!function(){var t={};global.VEL=global.VEL||{},global.VEL.Skynet=global.VEL.Skynet||{},global.VEL.Skynet.Global=global.VEL.Skynet.Global||{},global.VEL.Skynet.Global.Controls=global.VEL.Skynet.Global.Controls||{},global.VEL.Skynet.Global.Controls.Breadcrumbs=global.VEL.Skynet.Global.Controls.Breadcrumbs||{},global.VEL.Skynet.Global.Extensions=global.VEL.Skynet.Global.Extensions||{},global.VEL.Skynet.Global.Helpers=global.VEL.Skynet.Global.Helpers||{},global.VEL.Skynet.Global.Interop=global.VEL.Skynet.Global.Interop||{},global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent=global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent||{},global.VEL.Skynet.Global.Modals=global.VEL.Skynet.Global.Modals||{},global.VEL.Skynet.Global.Modals.SharePages=global.VEL.Skynet.Global.Modals.SharePages||{},global.VEL.Skynet.Global.Pages=global.VEL.Skynet.Global.Pages||{},global.VEL.Skynet.Global.Panels=global.VEL.Skynet.Global.Panels||{},ss.initAssembly(t,"VEL.Skynet.Global.Web");var e=function(){};e.__typeName="VEL.Skynet.Global.LogHelper",e.error=function(t,s,i){if(!e.$1){e.$1=!0;var n={};n.message=s,n.scriptUrl=t,n.requestUrl=window.location.href,n.templateId=e.$0(ServerModel.templateId),n.themeId=e.$0(ServerModel.themeId),n.stackTrace=i,$.ajax({type:"POST",url:"/errorajax/logjserror",data:n})}},e.event=function(t,e){var s={};s.name=t,s.requestUrl=window.location.href,s.value=e,$.ajax({type:"POST",url:"/errorajax/logjsevent",data:s})},e.$0=function(t){return t>0?t:0},global.VEL.Skynet.Global.LogHelper=e;var s=function(){};s.__typeName="VEL.Skynet.Global.Modules",global.VEL.Skynet.Global.Modules=s;var i=function(){};i.__typeName="VEL.Skynet.Global.Shell",i.initialize=function(){if(i.$Q=new p.$ctor1(".js-progress-wrapper"),i.$T=new p.$ctor1("#toast_popup_wrapper"),i.$S=new p.$ctor1("#toast_popup"),i.$G=new p.$ctor1("#last_message"),i.$C=new p.$ctor1("#error_report"),i.$A=new p.$ctor1("body"),i.isErrorPage=new p.$ctor1("#error_wrapper").get_exists(),i.isGuest()?i.$n():i.$o(),i.$z(),i.$8(),window.addEventListener("error",i.$e),i.$w(),!ServerModel.isEmbed){var t=ct.get("login9");ss.isNullOrUndefined(t)&&(t=ServerModel.languageId.toString()),i.$B=t;var e=new p.$ctor1(".js-header-ajax");e.get_exists()?$.get("/shellajax/header/"+i.$B,function(t){e.set_html(ss.cast(t,String)),i.$g(),i.$u();for(var s=new b(".js-account-logout").getEach(),n=0;n<s.length;n++){var o=s[n],l={$:o.getAttribute("href")};o.onClick(ss.mkdel({href:l},function(){ft.removeItem("__newassignments"),window.location.href=this.href.$}),!1,!0)}}):i.$0(),!i.isGuest()&&VEL.Skynet.Global.Server.Switches.getBoolean(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.notifyForNewSubmissions)&&$.get("/myresultsajax/getandrefreshnewsubmissionstate",function(t){i.$E=t,i.$u(),ft.storeBooleanInLocalStorage("__newassignments",t)}),i.$t()}},i.loadSwitches=function(t){var e=ct.get("expt"),s=ct.get("__debug__override");VEL.Skynet.Global.Server.Switches.static$1=new VEL.Skynet.Global.Server.ClientSwitchContext(e,s),VEL.Skynet.Global.Server.Switches.initialize(t)},i.isGuest=function(){return ss.isNullOrUndefined(ct.get("login9"))},i.getCurrentExperimentVariations=function(){var t=ss.coalesce(ct.get("expt"),"");return VEL.Skynet.Global.Extensions.StringExtensions.toArrayOfIntegers(t)},i.tryUpdateExperimentContext=function(t,e){var s=Enumerable.from(t).where(function(t){return!ss.contains(e,t)}),i=Enumerable.from(e).concat(s),n=ss.arrayFromEnumerable(i).join(","),o=ct.set("expt",n,31536e3);if(o){var l=ct.get("__debug__override");VEL.Skynet.Global.Server.Switches.static$1=new VEL.Skynet.Global.Server.ClientSwitchContext(n,l)}return o},i.$n=function(){if(!ss.isNullOrUndefined(ServerModel.guestVisit)&&0!==ServerModel.guestVisit.length){for(var t=i.getCurrentExperimentVariations(),e=[],s=0;s<ServerModel.guestVisit.length;s++){var n={$:ServerModel.guestVisit[s]};if(!Enumerable.from(t).any(ss.mkdel({pageExperimentVariationIds:n},function(t){return ss.contains(this.pageExperimentVariationIds.$,t)}))){var o=(new ss.Random).nextMax(n.$.length),l=n.$[o];e.push(l)}}if(0!==e.length&&i.tryUpdateExperimentContext(e,t))for(var a=0;a<e.length;a++){var r=e[a];$.get("/experimentajax/recruitguest?experimentVariationId="+r)}}},i.$o=function(){if(void 0!==ServerModel.pageId){var t=i.getCurrentExperimentVariations();$.post("/experimentajax/recruitregistereduser/"+ServerModel.pageId,function(e){0!==e.length&&i.tryUpdateExperimentContext(e,t)&&i.$8()})}},i.$z=function(){var t=window.location.pathname+window.location.search,e=void 0===ServerModel.pageId?0:ServerModel.pageId;if(i.isGuest()){var s;if(ss.isNullOrEmptyString(document.referrer))s="";else{var n=document.referrer.toLowerCase(),o=n.split(String.fromCharCode(47));s=ss.startsWithString(n,"http")&&o.length>2?o[2].split(String.fromCharCode(58))[0]:n}if(!ss.referenceEquals(s,window.location.hostname)){var l=ct.get("referrer2");if(ss.isNullOrUndefined(l)){var a=s+","+e;if(ct.set("referrer2",a,31536e3),0===(new ss.Random).nextMax(100)){var r={type:1102};r.url=encodeURIComponent(t),r.pageId=e,$.post("/eventsajax/trackpage",r)}}}}if(0===(new ss.Random).nextMax(500)){var c={type:1103};c.url=encodeURIComponent(t),c.pageId=e,$.post("/eventsajax/trackpage",c)}},i.$8=function(){i.$7("style","switch-styles",VEL.Skynet.Global.Server.Switches.getStyles(VEL.Skynet.Global.Server.Switches.static$1),!1),i.$7("script","switch-strings",VEL.Skynet.Global.Server.Switches.getStringsScript(VEL.Skynet.Global.Server.Switches.static$1),!1),i.$7("script","switch-scripts",VEL.Skynet.Global.Server.Switches.getScripts(VEL.Skynet.Global.Server.Switches.static$1),!0)},i.$7=function(t,e,s,i){if(!ss.isNullOrEmptyString(s)){var n=document.getElementById(e);if(ss.isValue(n))n.innerHTML=s;else{var o=document.createElement(t);o.id=e,o.innerHTML=s,i?window.setTimeout(function(){document.head.appendChild(o)},0):document.head.appendChild(o)}}},i.$q=function(t,e){for(var s=new b(".js-result-notification-dot").getEach(),i=0;i<s.length;i++){s[i].set_isVisible(t)}var n=e.getAttribute("href");t&&-1===n.indexOf("?ref=new")?e.setAttribute("href",n+"?ref=new"):t||-1===n.indexOf("?ref=new")||e.setAttribute("href",ss.replaceAllString(n,"?ref=new",""))},i.$u=function(){if(!i.isGuest()&&VEL.Skynet.Global.Server.Switches.getBoolean(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.notifyForNewSubmissions)){var t=new p.$ctor1(".js-my-results");if(!t.get_exists())return;ss.isValue(i.$E)?i.$q(ss.unbox(i.$E),t):i.$q(ft.getBooleanFromLocalStorage("__newassignments"),t)}else ft.removeItem("__newassignments")},i.$w=function(){new $e(i.$9(),i.isGuest(),i.$m()).setup()},i.$t=function(){rt.cookieConsentIsEnabled=3===i.$9(),rt.run(function(){i.$d(!0)},function(){i.$d(!1)},i.$m())},i.$g=function(){var t=new p.$ctor1(".js-footer-ajax");t.get_exists()&&$.get(ServerModel.footerAjax,ss.mkdel(this,function(e){t.set_html(ss.cast(e,String)),new h(".js-footer-languages .js-change-language",i.$c,null),i.$v(),i.$1()})),it.initialize(),nt.initialize(),i.$3(),i.$2(),i.$x();new u.$ctor3(".js-menu-button-mobile",i.$y,!0);i.$H=new p.$ctor1("#logo"),i.$D=new u.$ctor3("#shell_faded_overlay",i.$f,!0),i.$P=new u.$ctor3("#profile_button",i.$i,!0),i.$J=new p.$ctor1(".js-overlay-menu"),i.$I=new u.$ctor3(".js-overlay-mask",i.$6,!0),i.$L=new p.$ctor1("nav"),i.$K=new p.$ctor1("#topbar_mobile_buttons"),i.$R=new p.$ctor1(".js-search-suggestions-wrapper"),i.$F=new p.$ctor1(".js-language-selector"),new u.$ctor3(".js-language-btn",i.$h,!0),new h(".js-language-selector .js-change-language",i.$c,null),i.$0(),i.$U=$(window).width(),$(window).on("resize",function(t){i.$j()}),i.$b()},i.$b=function(){if(ServerHelper.get_isGuest()||ServerModel.isBasic)for(var t=$(".js-paid-required").get(),e=0;e<t.length;e++){var s=t[e],i={$:$(s)};"#"!==i.$.attr("href")&&(i.$.attr("title",Strings.resource_SubscriptionRequired_Tooltip),i.$.attr("href","#"),i.$.click(ss.mkdel({obj:i},function(t){var e=ss.cast(ss.Enum.parse(VEL.Skynet.Global.Enums.SubscriptionRequiredFeatureEnum,this.obj.$.attr("data-paid-required-feature")),ss.Int32);new ve(e).open(),t.preventDefault(),t.stopPropagation()})))}},i.$0=function(){var t=new h(".js-btn-load",null,null);t.onClicks(function(t){t.addLoadingGif()},!1,!1),new u.$ctor3(".js-scroll-to-top",i.scrollToTop,!0).onClick(i.scrollToTop,!1,!1),new h(".js-scroll-to-anchor",i.$p,null).onClicks(i.$p,!1,!1),$(window).on("pageshow",function(e){t.getEach().forEach(function(t){t.resetLoadingGif()})})},i.scrollToTop=function(){var t=Math.min(350,ss.Int32.div(window.scrollY,2));new p.$ctor1("html,body").animate("scrollTop",0,t,null,null)},i.scrollIntoView=function(t,e,s){var i=window.scrollY,n=window.scrollY+window.innerHeight,o=t.get_domObject().offset().top-e,l=t.get_domObject().offset().top+t.get_outerHeight()+e;if(o<i)new p.$ctor1("html,body").animate("scrollTop",o,250,s,null);else if(l>n){var a=Math.min(l-window.innerHeight,o);new p.$ctor1("html,body").animate("scrollTop",a,250,s,null)}else ss.staticEquals(s,null)||s()},i.writeError=function(t){St.isRelease()||(ss.isNullOrUndefined(t)?i.$C.set_isVisible(!1):(i.$C.CSS$1("background-color","#ff0000"),i.$C.set_text(t),i.$C.set_isVisible(!0)))},i.displayMessage=function(t,e,s){St.isRelease()||(i.$G.set_text(t),i.$G.set_isVisible(!0)),s<=0&&(s=4e3),i.$S.set_html(t),i.$S.removeClass("error"),e?i.$T.fadeInOut(200,s,1e3):i.$T.fadeIn(200)},i.hideMessage=function(){i.$T.set_isVisible(!1)},i.displayErrorMessage=function(t,e,s){i.displayMessage(t,e,s),i.$S.addClass("error"),i.displayError=t},i.displayNetworkErrorMessage=function(){i.displayErrorMessage(Strings.global_NetworkError,!0,0)},i.hideProgress=function(){i.$Q.set_isVisible(!1)},i.showProgress=function(){i.$Q.set_isVisible(!0)},i.$p=function(t){var e=t.get_href();if(!ss.isNullOrUndefined(e)&&-1!==e.indexOf("#")){var s=new p.$ctor1("a[name="+e.split(String.fromCharCode(35))[1]+"]");if(s.get_exists())new p.$ctor1("html,body").animate("scrollTop",s.get_domObject().offset().top,800,function(){s.focus()},null)}},i.$j=function(){var t=$(window).width();t!==i.$U&&(i.$U=t,i.$5(),i.$6(),i.$x())},i.$f=function(){i.$5(),i.$6()},i.$y=function(){i.$L.hasClass("open")?i.$5():i.$l()},i.$k=function(){i.$D.addClass("open")},i.$4=function(){i.$D.removeClass("open")},i.$l=function(){i.$A.CSS$1("overflow-y","hidden"),window.scrollTo(0,0),i.$L.addClass("open"),i.$k()},i.$5=function(){i.$A.CSS$1("overflow-y","auto"),i.$L.removeClass("open"),i.$4()},i.$i=function(){var t=$(document).width()-i.$P.get_domObject().offset().left-i.$P.get_outerWidth(),e=$(document).width()-i.$J.get_outerWidth()-15;t=Math.min(t,e),i.$6(),i.$J.set_isVisible(!0),i.$J.CSS("right",t),i.$P.addClass("is-open"),i.$I.set_isVisible(!0)},i.$6=function(){i.$F.set_isVisible(!1),i.$I.set_isVisible(!1),i.$J.set_isVisible(!1),i.$P.removeClass("is-open")},i.$x=function(){if(!ut.isPortraitPhoneSized()){-1!==window.location.href.toLowerCase().indexOf("managepayments")&&new p.$ctor1(".js-fix-payment").set_isVisible(!1);for(var t=[".js-tag-line",".js-home",".js-username-display",".js-community",".js-features",".js-upgrade"],e=new p.$ctor1("header"),s=0;s<t.length;s++){var i=t[s];new p.$ctor3(e.get_domObject(),i).set_isVisible(!0)}for(var n=0;n<t.length;n++){var o=t[n];if(!(e.height()>60))break;new p.$ctor3(e.get_domObject(),o).set_isVisible(!1)}}},i.$2=function(){var t=(window.location.pathname+window.location.search).toLowerCase();i.$r(t,".js-log-in"),i.$r(t,".js-register"),i.$r(t,".js-account-localization")},i.$3=function(){i.$s(".js-register"),i.$s(".js-upgrade")},i.$1=function(){VEL.Skynet.Global.Server.Switches.getBoolean(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.userFeedback)&&(new u.$ctor3(".js-give-feedback",function(){new se(0,0,null).open()},!0),new p.$ctor1(".js-user-feedback").set_isVisible(!0)),ut.isPhoneSized()||new u.$ctor3(".js-feedback-banner button",function(){new se(2,ServerModel.pageId,null).open()},!0)},i.$v=function(){3===i.$O&&(new b(".js-old-policy").set_areVisible(!1),new b(".js-new-policy").set_areVisible(!0),new u.$ctor3(".js-cookie-preferences",function(){rt.openPreferencesModal()},!0))},i.$r=function(t,e){for(var s=new h(e,null,null).getEach(),n=0;n<s.length;n++){var o=s[n],l=o.get_href();if(ss.isValue(l)){var a=i.$a(t,l,ServerHelper.get_isLoggedIn());ss.isNullOrEmptyString(a)||(-1!==l.indexOf("?")?l+="&":l+="?",l+=a,o.set_href(l))}}},i.$s=function(t){if(0!==ServerModel.pageId&&void 0!==ServerModel.pageId)for(var e=new h(t,null,null),s=ss.replaceAllString(ss.Enum.getName(VEL.Skynet.Global.Enums.PageIds,ServerModel.pageId).toLowerCase(),"_","-"),i=e.getEach(),n=0;n<i.length;n++){var o=i[n],l=o.get_href();ss.isValue(l)&&(-1!==l.indexOf("?")?l+="&ref=":l+="?ref=",l+=s,o.set_href(l))}},i.$a=function(t,e,s){if(ss.replaceAllString(t.split(String.fromCharCode(63))[0],"/","").length<=2)return"";if(-1!==t.indexOf("nocache=")||-1!==e.indexOf("redirectto="))return"";var i=-1!==t.indexOf("/account/");if(s||!i)return"redirectto="+encodeURIComponent(t);var n=-1!==t.indexOf("redirectto=");if(i&&n){var o=new RegExp("redirectto=([^&]*)"),l=t.match(o);if(ss.isValue(l)&&l.length>0)return l[0]}if(-1!==t.indexOf("/account/login")&&!n){var a=new p.$ctor1("#RedirectTo");return ss.isNullOrUndefined(a)?"":"redirectto="+encodeURIComponent(a.getAttribute("value"))}return""},i.$h=function(){ut.isRTL()?(i.$F.CSS$1("left","5px"),i.$F.CSS$1("right","auto")):(i.$F.CSS$1("left","auto"),i.$F.CSS$1("right","5px")),i.$F.set_isVisible(!0),i.$I.set_isVisible(!0)},i.$c=function(t){var e=t.getAttribute("data-language");window.location.href="/account/redirectlanguage?languageId="+e+"&redirectTo="+encodeURIComponent(window.location.pathname+window.location.search)},i.$e=function(t){var s=ss.cast(t,o),n=ss.isValue(s.error)?s.error.message||(s.error.get_message?s.error.get_message():null):null;ss.isNullOrEmptyString(n)&&(n=s.message);var l=s.lineno+":"+s.filename+":"+n;i.writeError(l),window.setTimeout(function(){var t=s.lineno+":"+s.colno+" "+s.message,i=null;ss.isValue(s.error)&&(t+="\r\n"+(s.error.message||(s.error.get_message?s.error.get_message():null)),i=s.error.stack||(s.error.get_stack?s.error.get_stack():null)),e.error(s.filename,t,i)},100),i.jsErrors+=l+"|"},i.getPolicyUpdateMode=function(){var t=VEL.Skynet.Global.Server.Switches.getString(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.updatedPolicyEffectiveDate);if(ServerModel.policyTestOnly&&!/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$/.test(t))return 1;if(ss.isNullOrEmptyString(t))return 1;try{return new Date>=new Date(new Date(new Date(t).toISOString()).getTime()-0)?3:new Date>=new Date(new Date(new Date(t).toISOString()).getTime()-1296e6)?2:1}catch(t){return 1}},i.$9=function(){return 0===i.$O&&(i.$O=i.getPolicyUpdateMode()),i.$O},i.navigateWithProgressBar=function(t){tt.displayProgress(),$(window).one("pagehide",function(t){tt.success(null,!1)}),window.location.href=t},i.$d=function(t){var e,s,n,o,l=0,a=new ss.TaskCompletionSource,r=function(){try{t:for(;;)switch(l){case 0:if(l=-1,e=!i.isGuest(),s=rt.getAcceptType(),n=t&&2!==s||!t,e&&n&&i.showProgress(),e)return o=ss.Task.fromPromise($.post("/consentajax/logcookieconsent"),0),l=2,void o.continueWith(r);l=1;continue t;case 2:l=-1,o.getAwaitedResult(),l=1;continue t;case 1:l=-1,n&&window.location.reload(),l=-1;break t;default:break t}a.setResult(null)}catch(t){a.setException(ss.Exception.wrap(t))}};return r(),a.task},i.$m=function(){return-1!==window.location.pathname.indexOf("/screen/interactive")||Enumerable.from(["/terms","/privacy","/cookie-policy","/subprocessors"]).any(function(t){return!(-1!==window.location.pathname.indexOf("/community"))&&ss.endsWithString(window.location.pathname,t)})},global.VEL.Skynet.Global.Shell=i;var n=function(){};n.__typeName="VEL.Skynet.Global.Shell$ErrorDetails",global.VEL.Skynet.Global.Shell$ErrorDetails=n;var o=function(){this.lineno=0,this.colno=0,this.filename=null,this.message=null,this.error=null};o.__typeName="VEL.Skynet.Global.Shell$ErrorEvent",global.VEL.Skynet.Global.Shell$ErrorEvent=o;var l=function(t,e){this.$9=null,this.$a=null,this.$c=null,this.$7=null,this.$d=null,this.$b=null,this.$e=0,this.$8=null,N.$ctor1.call(this,t),this.$4(e)};l.__typeName="VEL.Skynet.Global.Controls.ActionsMenu",global.VEL.Skynet.Global.Controls.ActionsMenu=l;var a=function(){this.$9=null,this.$5=null,this.$4=null,this.$a=0,this.$6=0,this.$2=0,this.$7=0,this.$8=0,this.$3=0,this.$5=new p.$ctor1(".js-play-preload-loader"),this.$4=new p.$ctor1(".js-play-log-message"),this.$9=new ss.Stopwatch,this.$9.start(),this.$a=ss.Enum.getValues(VEL.Skynet.Global.PreloaderLogEnum).length,window.setTimeout(ss.mkdel(this,this.$0),15e3)};a.__typeName="VEL.Skynet.Global.Controls.ActivityPreloader",global.VEL.Skynet.Global.Controls.ActivityPreloader=a;var r=function(t){this.$1=null,p.$ctor1.call(this,t),this.$1=this.find(p).call(this,"source")};r.__typeName="VEL.Skynet.Global.Controls.Audio",global.VEL.Skynet.Global.Controls.Audio=r;var c=function(t){c.$ctor1.call(this,".js-background-fader",t)};c.__typeName="VEL.Skynet.Global.Controls.BackgroundFader",c.$ctor1=function(t,e){u.$ctor3.call(this,t,e,!0),c.$0=this},c.forceHide=function(){ss.isValue(c.$0)&&c.$0.set_isVisible(!1)},global.VEL.Skynet.Global.Controls.BackgroundFader=c;var u=function(t){p.$ctor2.call(this,$(t))};u.__typeName="VEL.Skynet.Global.Controls.Button",u.$ctor1=function(t){p.$ctor1.call(this,t)},u.$ctor4=function(t,e,s){p.$ctor3.call(this,t,e),this.onClick(s,!1,!0)},u.$ctor3=function(t,e,s){p.$ctor1.call(this,t),this.onClick(e,!1,s)},u.$ctor2=function(t){p.$ctor2.call(this,t)},global.VEL.Skynet.Global.Controls.Button=u;var h=function(t,e,s){this.$1=null,p.$ctor3.call(this,s,t),this.$1=Enumerable.from(this.get_domObject().get()).select(function(t){return new u(t)}).toArray(),ss.staticEquals(e,null)||this.get_domObject().on("click",ss.mkdel(this,function(t){t.preventDefault(),t.stopPropagation();var s=$(t.target),i=Enumerable.from(this.$1).firstOrDefault(function(t){return t.get_domObject().is(s)||0!==t.get_domObject().find(s).length},ss.getDefaultValue(u));ss.isValue(i)&&e(i)}))};h.__typeName="VEL.Skynet.Global.Controls.Buttons",global.VEL.Skynet.Global.Controls.Buttons=h;var d=function(t){this.$0=null,this.$0=ss.cast(t,ss.isValue(t)&&ss.isInstanceOfType(t,Element)&&"CANVAS"===t.tagName)};d.__typeName="VEL.Skynet.Global.Controls.Canvas",d.$ctor1=function(t){this.$0=null;var e=$(t).get(0);this.$0=ss.cast(e,ss.isValue(e)&&ss.isInstanceOfType(e,Element)&&"CANVAS"===e.tagName)},d.create=function(){return new d(document.createElement("canvas"))},global.VEL.Skynet.Global.Controls.Canvas=d;var g=function(t,e){u.$ctor2.call(this,$(t)),ss.staticEquals(e,null)||this.get_domObject().on("click",function(t){e()})};g.__typeName="VEL.Skynet.Global.Controls.Checkbox",g.$ctor2=function(t,e,s){u.$ctor2.call(this,t.find(e)),ss.staticEquals(s,null)||this.get_domObject().on("click",function(t){s()})},g.$ctor1=function(t,e){u.$ctor1.call(this,t),ss.staticEquals(e,null)||this.get_domObject().on("click",function(t){e()})},global.VEL.Skynet.Global.Controls.Checkbox=g;var m=function(t,e){this.$a=null,this.$8=null,this.$7=null,this.$6=null,this.$9=null,this.$5=[],this.$4=[],p.$ctor1.call(this,t),this.$9=e,new S(t+" .js-templates-filters"),new S(t+" .js-locations-filters"),this.$a=new f(t+" .js-templates-filters",ss.mkdel(this,this.$2),".js-templates-filters-tags"),this.$8=new f(t+" .js-locations-filters",ss.mkdel(this,this.$2),".js-locations-filters-tags"),this.$6=new u.$ctor3(t+" .js-apply-filters",ss.mkdel(this,this.$1),!0),this.$7=new h(t+" .js-clear-button",ss.mkdel(this,function(t){this.$a.uncheckAll(),this.$8.uncheckAll(),this.$2()}),null),this.setupShowFilters(),new u.$ctor3(t+" .js-hide-filters",ss.mkdel(this,this.$3),!0),$(window).on("resize",ss.mkdel(this,function(t){window.setTimeout(ss.mkdel(this,this.$3),10)})),this.$5=this.$a.getSelectedValues(),this.$4=this.$8.getSelectedValues()};m.__typeName="VEL.Skynet.Global.Controls.CommunityFilters",global.VEL.Skynet.Global.Controls.CommunityFilters=m;var f=function(t,e,s){this.$2=null,this.$5=null,this.$4=null,this.$3=null,p.$ctor1.call(this,t),this.$5=ss.isNullOrUndefined(s)?null:$(s),this.$3=new p.$ctor3(this.get_domObject(),".js-selected-filters-count"),this.$4=ss.mkdel(this,function(){this.$1(),e()});var i=this.get_domObject().find(".js-checkbox-input");this.$2=new Array(i.length);for(var n=i.get(),o=0;o<n.length;o++){$(n[o]).val();this.$2[o]=new g(n[o],this.$4)}this.$1()};f.__typeName="VEL.Skynet.Global.Controls.CommunityFiltersCheckboxList",global.VEL.Skynet.Global.Controls.CommunityFiltersCheckboxList=f;var p=function(t){this.$1$1=null,this.set_domObject($(t))};p.__typeName="VEL.Skynet.Global.Controls.Control",p.$ctor1=function(t){this.$1$1=null,this.set_domObject($(t))},p.$ctor2=function(t){this.$1$1=null,this.set_domObject(t)},p.$ctor3=function(t,e){this.$1$1=null,this.set_domObject(ss.isNullOrUndefined(t)?$(e):t.find(e))},p.$ctor4=function(t,e,s,i){this.$1$1=null,this.set_domObject(mt.buildTemplate(e,s)),i?this.$0(t):this.appendTo(t)},p.create=function(t){return function(e,s,i,n){var o=ss.isNullOrUndefined(i)?"":ss.formatString("id='{0}'",i),l=ss.isNullOrEmptyString(n)?"":ss.formatString("class='{0}'",n),a=$(ss.formatString("<{0} {1} {2}></{0}>",s,o,l)),r=new t(a);return ss.isNullOrUndefined(e)?r.appendTo(new p.$ctor1("body")):r.appendTo(e),r}},p.createFromTemplate=function(t){return function(e,s,i,n){var o=mt.buildTemplate(s,i),l=new t(o);return n?l.$0(e):l.appendTo(e),l}},p.createFromHtml=function(t){return function(e,s){var i=$(s),n=new t(i);return n.appendTo(e),n}},global.VEL.Skynet.Global.Controls.Control=p;var b=function(t){this.$1=null,p.$ctor1.call(this,t),this.$1=Enumerable.from(this.get_domObject().get()).select(function(t){return new p(t)}).toArray()};b.__typeName="VEL.Skynet.Global.Controls.Controls",b.$ctor1=function(t,e){this.$1=null,p.$ctor3.call(this,t.get_domObject(),e),this.$1=Enumerable.from(this.get_domObject().get()).select(function(t){return new p(t)}).toArray()},global.VEL.Skynet.Global.Controls.Controls=b;var _=function(t,e){this.$c=null,this.$d=null,this.$b=null,this.$e=null,p.$ctor2.call(this,t),this.$d=e,this.$c=new Ke,this.$6()};_.__typeName="VEL.Skynet.Global.Controls.CurrentAssignments",global.VEL.Skynet.Global.Controls.CurrentAssignments=_;var v=function(t,e){O.$ctor1.call(this,t);var s=this.getData("dateformat",null,!1);ss.isValue(s)&&$.datepicker.setDefaults({dateFormat:s}),this.get_domObject().datepicker(),this.$8(),ss.staticEquals(e,null)||this.onChange(e,!1)};v.__typeName="VEL.Skynet.Global.Controls.DatePicker",global.VEL.Skynet.Global.Controls.DatePicker=v;var y=function(){};y.__typeName="VEL.Skynet.Global.Controls.DragStatusEnum",global.VEL.Skynet.Global.Controls.DragStatusEnum=y;var k=function(){this.$2=null,this.$3=null,this.$4=null,this.$1=null,this.$6=0,this.$7=0,this.$5=0,p.$ctor1.call(this,".js-drag-wrapper"),this.$2=new p.$ctor1(".js-drag-icon"),this.$3=new p.$ctor1(".js-drag-name"),this.$4=new p.$ctor1(".js-drag-ok"),this.$1=new p.$ctor1(".js-drag-blocked")};k.__typeName="VEL.Skynet.Global.Controls.DragWrapper",global.VEL.Skynet.Global.Controls.DragWrapper=k;var S=function(t){this.$3=null,this.$4=null,this.$5=null,p.$ctor1.call(this,t);var e=this.get_domObject().find(" > .js-foldable-title > .fa");this.$3=this.get_domObject().find(" > .js-foldable-content"),new u.$ctor4(this.get_domObject(),".js-foldable-title",ss.mkdel(this,function(){this.get_domObject().toggleClass("open"),e.toggleClass("fa-caret-right"),e.toggleClass("fa-caret-down")})),this.$4=new u.$ctor4(this.get_domObject(),".js-fold-partial-foldable",ss.mkdel(this,this.$1)),this.$5=new u.$ctor4(this.get_domObject(),".js-unfold-partial-foldable",ss.mkdel(this,this.$2)),this.$1()};S.__typeName="VEL.Skynet.Global.Controls.Foldable",global.VEL.Skynet.Global.Controls.Foldable=S;var w=function(t){p.$ctor2.call(this,t)};w.__typeName="VEL.Skynet.Global.Controls.FolderTreeItem",w.create=function(t,e,s){for(var i=0;i<e.Level;i++)t.append(p.create(p).call(null,t,"div",null,"folder-indent"));var n=p.createFromTemplate(w).call(null,t,"folder_tree_item_template",[e.Name,VEL.Skynet.Global.Server.AssetHelper.getFolderImage(e.Color)],!1);return n.onClick(function(){s(e)},!1,!0),n},global.VEL.Skynet.Global.Controls.FolderTreeItem=w;var C=function(t,e){this.$1=null,p.$ctor1.call(this,t);var s=e;ss.isNullOrUndefined(s)&&(s=this.attribute("action")),this.$1=s};C.__typeName="VEL.Skynet.Global.Controls.Form",global.VEL.Skynet.Global.Controls.Form=C;var E=function(t){p.$ctor2.call(this,t)};E.__typeName="VEL.Skynet.Global.Controls.Icon",E.$ctor1=function(t,e){p.$ctor3.call(this,t,e)},E.create=function(t,e){return p.create(E).call(null,t,"i",null,e)},global.VEL.Skynet.Global.Controls.Icon=E;var j=function(t,e){this.$1=null,p.call(this,t),this.$1=ss.cast(t,ss.isValue(t)&&ss.isInstanceOfType(t,Element)&&"IFRAME"===t.tagName),ss.staticEquals(e,null)||(this.$1.onload=function(t){e()})};j.__typeName="VEL.Skynet.Global.Controls.IFrame",global.VEL.Skynet.Global.Controls.IFrame=j;var V=function(){};V.__typeName="VEL.Skynet.Global.Controls.IItemsDragContainer",global.VEL.Skynet.Global.Controls.IItemsDragContainer=V;var L=function(t){this.$2=null,p.$ctor1.call(this,t);var e=this.get_domObject().get(0);this.$2=ss.cast(e,ss.isValue(e)&&ss.isInstanceOfType(e,Element)&&"IMG"===e.tagName)};L.__typeName="VEL.Skynet.Global.Controls.Image",L.$ctor1=function(t,e,s){this.$2=null,p.call(this,t),this.$2=ss.cast(t,ss.isValue(t)&&ss.isInstanceOfType(t,Element)&&"IMG"===t.tagName),ss.staticEquals(e,null)||(this.$2.onload=ss.mkdel(this,function(t){e(this)})),ss.staticEquals(s,null)||(this.$2.onerror=function(t){s()})},L.create=function(t,e,s,i){var n=new L.$ctor1(document.createElement("img"),s,i);return ss.isValue(e)&&n.get_element().setAttribute("crossOrigin",e),ss.isValue(t)&&(n.$2.src=t),n},global.VEL.Skynet.Global.Controls.Image=L;var O=function(t){this.$5=null,this.$4=null,this.$6=null,this.$7=null,p.call(this,t)};O.__typeName="VEL.Skynet.Global.Controls.Input",O.$ctor2=function(t,e){this.$5=null,this.$4=null,this.$6=null,this.$7=null,p.$ctor1.call(this,t),this.onChange(e,!1)},O.$ctor1=function(t){this.$5=null,this.$4=null,this.$6=null,this.$7=null,p.$ctor1.call(this,t)},O.$ctor3=function(t,e){this.$5=null,this.$4=null,this.$6=null,this.$7=null,p.$ctor3.call(this,t,e)},O.$ctor4=function(t,e,s){this.$5=null,this.$4=null,this.$6=null,this.$7=null,p.$ctor3.call(this,t,e),this.onChange(s,!1)},O.$ctor5=function(t,e,s){O.$ctor3.call(this,t,e),this.setAttribute("placeholder",s)},global.VEL.Skynet.Global.Controls.Input=O;var G=function(t,e){this.$1=null,p.$ctor1.call(this,t),this.$1=Enumerable.from(this.get_domObject().get()).select(function(t){var s=new O(t);return s.onChange(function(){e(s)},!1),s}).toArray()};G.__typeName="VEL.Skynet.Global.Controls.Inputs",global.VEL.Skynet.Global.Controls.Inputs=G;var I=function(t,e,s){this.$2=null,ss.makeGenericType(B,[ss.Int32]).call(this,t),ss.isValue(e)&&this.set_value(ss.unbox(e)),ss.staticEquals(s,null)||this.onChange(s)};I.__typeName="VEL.Skynet.Global.Controls.IntSelect",global.VEL.Skynet.Global.Controls.IntSelect=I;var M=function(t,e,s){u.$ctor2.call(this,null);var i=new mt("#generic_modal_template_btn",[]);this.set_domObject(i.build([null,s,t])),this.get_domObject().on("click",ss.mkdel(this,function(t){this.addLoadingGif(),t.preventDefault(),t.stopPropagation(),e()}))};M.__typeName="VEL.Skynet.Global.Controls.ModalButton",global.VEL.Skynet.Global.Controls.ModalButton=M;var x=function(t,e){this.$8=null,this.$a=null,this.$9=null,O.$ctor3.call(this,t,e),this.$8=this.getDataAsInt("default",0,!1),this.$9=this.getAttributeAsNullableInt("max"),this.$a=this.getAttributeAsNullableInt("min"),this.set_intValue(ss.coalesce(this.$8,0)),this.onBlur(ss.mkdel(this,function(){this.set_intValue(this.get_intValue())}))};x.__typeName="VEL.Skynet.Global.Controls.NumberInput",global.VEL.Skynet.Global.Controls.NumberInput=x;var A=function(){};A.__typeName="VEL.Skynet.Global.Controls.OrderByEnum",global.VEL.Skynet.Global.Controls.OrderByEnum=A;var T=function(t,e,s){this.$6=null,this.$5=0,this.$4=null,this.$3$1=!1,u.$ctor1.call(this,t),this.$6=s,this.$5=e,this.$4=new p.$ctor3(this.get_domObject(),".js-order-arrow"),this.set_canToggle(!0),this.onClick(ss.mkdel(this,this.$1),!1,!0)};T.__typeName="VEL.Skynet.Global.Controls.OrderByToggle",global.VEL.Skynet.Global.Controls.OrderByToggle=T;var N=function(t){this.$1=!1,p.call(this,t)};N.__typeName="VEL.Skynet.Global.Controls.Panel",N.$ctor1=function(t){this.$1=!1,p.$ctor1.call(this,t)},N.$ctor3=function(t,e){this.$1=!1,p.$ctor3.call(this,t,e)},N.$ctor2=function(t){this.$1=!1,p.$ctor2.call(this,t)},global.VEL.Skynet.Global.Controls.Panel=N;var P=function(t,e){this.$1=null,u.$ctor1.call(this,P.$0(t)),this.$1=t,ss.staticEquals(e,null)||this.onChange(e)};P.__typeName="VEL.Skynet.Global.Controls.Radio",P.$ctor1=function(t,e,s){this.$1=null,u.$ctor4.call(this,t,P.$0(e),null),this.$1=e,ss.staticEquals(s,null)||this.onChange(s)},P.$0=function(t){return ss.startsWithString(t,"#")||ss.startsWithString(t,".")?t:"input:radio[name="+t+"]"},global.VEL.Skynet.Global.Controls.Radio=P;var B=function(t){var e=function(t){p.$ctor1.call(this,t)};return ss.registerGenericClassInstance(e,B,[t],{get_selectedOption:function(){return new p.$ctor2(this.get_domObject().find("option:selected"))},get_label:function(){return new p.$ctor2($("label[for="+this.getAttribute("id")+"]"))},get_value:null,set_value:null,get_text:function(){var t=this.get_domObject().val();return this.get_domObject().find("option[value="+t+"]").text()},set_text:function(t){var e=this.get_domObject().find("option[value="+t+"]");this.get_domObject().val(e.val())},blur:function(){this.get_domObject().blur()},addOption:function(t,e,s){this.get_domObject().append(this.$1(t,e,s))},prependOption:function(t,e,s){this.get_domObject().prepend(this.$1(t,e,s))},$1:function(t,e,s){var i={};return i.value=e,i.text=t,i.selected=s,$("<option>",i)},filterVisibleOptions:null},function(){return p},function(){return[]}),e};B.__typeName="VEL.Skynet.Global.Controls.Select$1",ss.initGenericClass(B,t,1),global.VEL.Skynet.Global.Controls.Select$1=B;var D=function(t){if(this.$7=null,this.$5=null,this.$6=null,this.$4=null,this.$1$1=null,this.$1$2=null,this.$1$3=null,this.$1$4=null,null!=navigator.share&&ut.isPhoneSized()){var e=new u.$ctor4(t.get_domObject(),".js-share-native",ss.mkdel(this,this.$3));e.set_isVisible(!0),this.$7=e}else{var s=new u.$ctor4(t.get_domObject(),".js-share-by-facebook",ss.mkdel(this,this.$1));s.set_isVisible(!0),this.$5=s;var i=new u.$ctor4(t.get_domObject(),".js-share-by-pinterest",ss.mkdel(this,this.$2));i.set_isVisible(!0),this.$6=i}var n=new u.$ctor3(".js-share-by-embed",ss.mkdel(this,this.$0),!0);n.set_isVisible(!0),this.$4=n};D.__typeName="VEL.Skynet.Global.Controls.SocialSharingBar",D.$2=function(t,e){ss.staticEquals(e,null)||e(D.$1(t),D.$0(t))},D.$1=function(t){return t.getData("share-url",null,!1)},D.$0=function(t){return t.getData("share-title",null,!1)},global.VEL.Skynet.Global.Controls.SocialSharingBar=D;var H=function(t,e,s){this.$2=null,ss.makeGenericType(B,[String]).call(this,t),ss.isValue(e)&&this.set_value(e),ss.staticEquals(s,null)||this.onChange(s)};H.__typeName="VEL.Skynet.Global.Controls.StringSelect",global.VEL.Skynet.Global.Controls.StringSelect=H;var U=function(){};U.__typeName="VEL.Skynet.Global.Controls.ValidateEnum",global.VEL.Skynet.Global.Controls.ValidateEnum=U;var R=function(t){F.call(this,t)};R.__typeName="VEL.Skynet.Global.Controls.Breadcrumbs.BackBreadcrumb",R.create=function(t,e){var s=p.createFromTemplate(R).call(null,e,"back_breadcrumb_template",[],!1);new u.$ctor3(".js-breadcrumb-back",ss.mkdel(t,t.onBack),!0);return s.set_info(new VEL.Skynet.Global.Json.FolderInfo),s},global.VEL.Skynet.Global.Controls.Breadcrumbs.BackBreadcrumb=R;var F=function(t){this.$3$1=null,u.$ctor2.call(this,t)};F.__typeName="VEL.Skynet.Global.Controls.Breadcrumbs.Breadcrumb",global.VEL.Skynet.Global.Controls.Breadcrumbs.Breadcrumb=F;var q=function(t,e){this.$6=null,this.$3=null,this.$4=null,this.$5=null,N.$ctor1.call(this,".js-breadcrumb-trail"),this.$6=t,this.$3=this.getData("home-path",null,!1),this.$4=e};q.__typeName="VEL.Skynet.Global.Controls.Breadcrumbs.BreadcrumbTrail",global.VEL.Skynet.Global.Controls.Breadcrumbs.BreadcrumbTrail=q;var z=function(t){F.call(this,t)};z.__typeName="VEL.Skynet.Global.Controls.Breadcrumbs.FolderBreadcrumb",z.create$1=function(t,e,s,i){var n=new VEL.Skynet.Global.Json.FolderInfo;return n.FolderId=0,n.Path=s,n.Name=i,z.create(t,e,n)},z.create=function(t,e,s){var i=p.createFromTemplate(z).call(null,e,"folder_breadcrumb_template",[s.Path,s.Name,VEL.Skynet.Global.Server.AssetHelper.getFolderImage(s.Color)],!1);return i.set_info(s),i.onClick(function(){t.onOpenFolder(i.get_info(),!1)},!1,!0),i.setupDragAndDrop(t.getItemsDragContainer()),i},global.VEL.Skynet.Global.Controls.Breadcrumbs.FolderBreadcrumb=z;var W=function(t){F.call(this,t)};W.__typeName="VEL.Skynet.Global.Controls.Breadcrumbs.HomeBreadcrumb",W.create=function(t,e,s,i){var n=p.createFromTemplate(W).call(null,e,"home_breadcrumb_template",[s,i],!1),o=new VEL.Skynet.Global.Json.FolderInfo;o.FolderId=0,o.Path=s,o.Name=i,n.set_info(o);var l=null;return ServerModel.userId>0&&(l=function(){t.onOpenFolder(n.get_info(),!1)}),n.onClick(l,!1,!0),n.setupDragAndDrop(t.getItemsDragContainer()),n},global.VEL.Skynet.Global.Controls.Breadcrumbs.HomeBreadcrumb=W;var J=function(t){F.call(this,t)};J.__typeName="VEL.Skynet.Global.Controls.Breadcrumbs.RecycleBreadcrumb",J.create=function(t){return p.createFromTemplate(J).call(null,t,"recycle_breadcrumb_template",null,!1)},global.VEL.Skynet.Global.Controls.Breadcrumbs.RecycleBreadcrumb=J;var K=function(t){F.call(this,t)};K.__typeName="VEL.Skynet.Global.Controls.Breadcrumbs.SearchBreadcrumb",K.create=function(t){return p.createFromTemplate(K).call(null,t,"search_breadcrumb_template",null,!1)},global.VEL.Skynet.Global.Controls.Breadcrumbs.SearchBreadcrumb=K;var Q=function(){};Q.__typeName="VEL.Skynet.Global.Extensions.jQueryExtensions",Q.getIntPoint=function(t){if(ss.isNullOrUndefined(t))return null;var e=t.originalEvent;return ss.isValue(e)?new VEL.Skynet.Global.Extensions.IntPoint.$ctor1(e.pageX,e.pageY):new VEL.Skynet.Global.Extensions.IntPoint.$ctor1(t.pageX,t.pageY)},global.VEL.Skynet.Global.Extensions.jQueryExtensions=Q;var Y=function(){};Y.__typeName="VEL.Skynet.Global.Helpers.AcceptType",global.VEL.Skynet.Global.Helpers.AcceptType=Y;var X=function(){};X.__typeName="VEL.Skynet.Global.Helpers.ActivityHelper",X.onThumbnailError=function(t){if(t.onerror=null,!X.$0){var e=t.src.lastIndexOf(String.fromCharCode(47));if(-1!==e){var s=t.src.substr(e+1);s.length>=32&&($.get("/resourceajax/reportscreenshot?guid="+s),X.$0=!0)}}t.src=Assets.cdn["/content/images/no_screenshot.png".toLowerCase()]},X.isTitleShareable=function(t){if(ss.isNullOrEmptyString(t))return!1;t=t.toLowerCase().trim();var e=Strings.enterContent_Generic_Untitled.trim().toLowerCase(),s=Strings.enterContent_Generic_CopyOf.trim().toLowerCase();if(ss.endsWithString(s,"{0}")){if(s=ss.replaceAllString(s,"{0}","").trim(),ss.startsWithString(t,e)||ss.startsWithString(t,s))return!1}else if(ss.startsWithString(s,"{0}")&&(s=ss.replaceAllString(s,"{0}","").trim(),ss.startsWithString(t,e)||ss.endsWithString(t,s)))return!1;return!0},X.getShortUrl=function(t,e){var s=window.location.href.split(String.fromCharCode(47))[3],i=2===s.length||5===s.length&&45===s.charCodeAt(2);s=i?"/"+s:"";var n=window.location.host+s+"/resource/"+t;return e?"https://"+n:n},X.getActivityUrl=function(t){return"/resource/"+t},X.getActivityEditContentUrl=function(t,e,s){var i="/create/editcontent?guid="+t;return 0!==e&&(i+="&templateId="+e),0!==s&&(i+="&folderId="+s),i},X.initializeAuthorLink=function(){var t=$(".js-community-author");if(VEL.Skynet.Global.Server.Switches.getBoolean(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.hideAuthorLink))t.remove();else{t.removeClass("hidden");var e=$(".js-author-link-profile-image");VEL.Skynet.Global.Server.Switches.getBoolean(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.authorLinkProfileImage)?e.removeClass("hidden"):e.remove()}},global.VEL.Skynet.Global.Helpers.ActivityHelper=X;var Z=function(){};Z.__typeName="VEL.Skynet.Global.Helpers.AIContentGenerationHelper",Z.sendXmlHttpRequest=function(t,s,i,n,o){var l=new XMLHttpRequest;l.onreadystatechange=function(t){if(4===l.readyState)if(400!==l.status)if(0!==l.status)if(200===l.status)try{var s=Z.$0(l.responseText);i(s)}catch(t){var a=ss.Exception.wrap(t);e.error("AI content generation",a.get_message(),a.get_stack()),n(null)}else n(null);else n(o);else{var r=ss.cast(JSON.parse(l.responseText),VEL.Skynet.Global.Json.AIContentGeneration.GenerateContentFailedResponse);n(r.Error)}},l.open("POST",t,!0),l.send(s)},Z.$0=function(t){for(var e=["","]","}","]}","}]}","]}]}"],s=0;s<e.length;s++){var i=e[s];try{return JSON.parse(t+i)}catch(t){}}return JSON.parse(t)},Z.generateSimilarItem=function(t,e,i,n,o,l){var a=new FormData;a.append("prompt",t);var r="/contentgenerationajax/aiassist?isGroupItem="+l+"&templateId="+e+"&guid="+s.app.get_document().get_guid();Z.sendXmlHttpRequest(r,a,i,function(t){Z.onGenerateSimilarFailed(t,n,o)},Strings.aiContent_Modal_GenerationInterrupted)},Z.onGenerateSimilarFailed=function(t,e,i){e.removeClass("js-in-progress in-progress"),i.removeClass("hidden"),$.post("/contentgenerationajax/assistfailedevent?templateId="+s.app.get_document().get_template().get_id()+"&guid="+s.app.get_document().get_guid()+"&message="+t)},Z.showFeedbackBanner=function(t,e){if((VEL.Skynet.Global.Server.Switches.getBoolean(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.aiAssistFeedbackBanner)||!(ss.coalesce(e,0)>0))&&(VEL.Skynet.Global.Server.Switches.getBoolean(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.aiGenFeedbackBanner)||0!==ss.coalesce(e,0))){var s=new p.$ctor1(".js-ai-feedback");s.removeClass("aiassist-feedback"),s.removeClass("genai-feedback"),s.addClass(ss.coalesce(e,0)>0?"aiassist-feedback":"genai-feedback"),s.set_isVisible(!0),new u.$ctor3(".js-ai-feedback button",function(){new qt(t,".js-ai-feedback",e).open()},!0)}},Z.isBannerVisible=function(){return new p.$ctor1(".js-ai-feedback").get_isVisible()},global.VEL.Skynet.Global.Helpers.AIContentGenerationHelper=Z;var tt=function(){};tt.__typeName="VEL.Skynet.Global.Helpers.AjaxHelper",tt.get_inProgress=function(){return tt.$1$1},tt.set_inProgress=function(t){tt.$1$1=t},tt.displayProgress=function(){tt.set_inProgress(!0),i.showProgress()},tt.isTrue=function(t){return ss.isValue(t)&&"true"===t.toString().toLowerCase()},tt.isFail=function(t){return!!ss.isNullOrUndefined(t)||"false"===t.toString().toLowerCase()},tt.success=function(t,e){ss.isValue(t)?i.displayMessage(t,!0,0):i.hideMessage(),i.hideProgress(),new p.$ctor1(".js-policy").get_exists()||e||ce.closeActiveModal(),tt.set_inProgress(!1)},tt.error=function(t){i.displayErrorMessage(ss.coalesce(t,Strings.myActivities_DefaultError),!0,0),i.hideProgress(),ce.closeActiveModal(),tt.set_inProgress(!1)},tt.networkErrorAndReload=function(t,e,s){i.displayNetworkErrorMessage(),window.setTimeout(function(){window.location.reload()},2e3)},tt.isClientErrorStatusCode=function(t){return t>=400&&t<500},global.VEL.Skynet.Global.Helpers.AjaxHelper=tt;var et=function(){};et.__typeName="VEL.Skynet.Global.Helpers.AppHelper",et.load=function(t){if(ss.isNullOrEmptyString(ServerModel.appBundleUrl))throw new ss.Exception("Could not load app due to null or empty ServerModel.AppBundleUrl");$.ajaxSetup({cache:!0});var e=ServerModel.appBundleUrl.split(String.fromCharCode(59));et.$0(0,e,t)},et.$0=function(t,e,s){t===e.length&&($.ajaxSetup({cache:!1}),s()),$.getScript(e[t],function(i){et.$0(t+1,e,s)})},global.VEL.Skynet.Global.Helpers.AppHelper=et;var st=function(){};st.__typeName="VEL.Skynet.Global.Helpers.AssignmentHelper",st.setAssignment=function(t,e){var s="/resultajax/setassignment?activityId="+t.get_activityId()+"&templateId="+t.get_templateId()+"&activityGuid="+t.get_activityGuid()+"&register="+e.Registration+"&gameover="+e.GameOver+"&deadline="+encodeURIComponent(e.EndTimeString)+"&title="+encodeURIComponent(e.Title)+"&pageId="+ServerModel.pageId;return $.post(s)},st.setAssignmentAsync=function(t,e){return ss.Task.fromPromise(st.setAssignment(t,e),0)},st.setGoogleClassroomAssignment=function(t,e,s){var i="/resultajax/setgoogleclassroomassignment?assignmentid="+t+"&gccourseid="+encodeURIComponent(e)+"&gccourseworkid="+encodeURIComponent(s);return $.post(i)},st.setGoogleClassroomAssignmentAsync=function(t,e,s){return ss.Task.fromPromise(st.setGoogleClassroomAssignment(t,e,s))},global.VEL.Skynet.Global.Helpers.AssignmentHelper=st;var it=function(){};it.__typeName="VEL.Skynet.Global.Helpers.AutoSaveHelper",it.initialize=function(){if(it.$1()){var t=new p.$ctor1(".js-auto-save-wrapper");new u.$ctor1(".js-auto-save-link").set_href("/create/entercontent?guid="+window.localStorage["autosave.guid"]+"&templateId="+window.localStorage["autosave.templateid"]+"&autosave=true"),new p.$ctor1(".js-auto-save-title").set_text(it.$0());new u.$ctor3(".js-auto-save-close",function(){it.clear(),t.remove()},!0);window.setTimeout(function(){t.slideDown(400,null)},1e3)}},it.clear=function(){window.localStorage.removeItem("autosave.guid")},it.$1=function(){var t=window.localStorage["autosave.user"];if(!ss.referenceEquals(t,ServerModel.userId.toString())||ServerHelper.get_isGuest())return!1;var e=window.localStorage["autosave.time"];if(ss.isValue(e)){var s=parseInt(e);VEL.Skynet.Global.Extensions.DateTimeExtensions.toUnix(new Date)-s>6048e5&&it.clear()}var i=window.localStorage["autosave.guid"];return ss.isValue(i)&&!ss.referenceEquals(ServerModel.activityGuid,i)&&!(-1!==window.location.href.indexOf("guid="+i))},it.$0=function(){var t=window.localStorage["autosave.title"];return ss.isNullOrEmptyString(t)||"null"===t?Strings.enterContent_Generic_Untitled:t},global.VEL.Skynet.Global.Helpers.AutoSaveHelper=it;var nt=function(){};nt.__typeName="VEL.Skynet.Global.Helpers.BannerHelper",nt.initialize=function(){if(!ServerHelper.get_isLoggedIn())return ct.remove("licensetobeexpired"),ct.remove("newsubscriberfeedback"),ft.removeItem("BannersToShow"),void $(".js-banner-wrapper").remove();var t=ft.getList(VEL.Skynet.Global.Json.BannerJson).call(null,"BannersToShow");nt.$5(t,"licensetobeexpired"),nt.$5(t,"newsubscriberfeedback");for(var e=0;e<t.length;e++){var s=t[e];nt.$6(s)}ft.removeItem("BannersToShow")},nt.$6=function(t){var e=new p.$ctor1("#banners_container"),s=new p.$ctor1("#banner_template"),i=new p.$ctor1(s.get_html()),n=i.find(p).call(i,".js-banner-content"),o=i.find(p).call(i,".js-banner-button"),l=i.find(p).call(i,".js-banner-dismiss"),a=i.find(p).call(i,".js-banner-prefix-icon");n.set_html(t.Msg),ss.isNullOrEmptyString(t.BackgroundColour)||i.CSS$1("background",t.BackgroundColour),ss.isNullOrEmptyString(t.PrefixIcon)||(a.addClass(t.PrefixIcon),a.removeClass("hidden"),i.removeClass("no-prefix-icon")),ss.isNullOrEmptyString(t.ButtonText)?o.remove():(o.set_html(t.ButtonText+o.get_html()),o.set_isVisible(!0),ss.isNullOrEmptyString(t.Url)||(o.addClass("clickable"),o.onClick(function(){nt.$2(i,t.BannerId),t.OpenInAnotherTab?window.open(t.Url,"_blank"):window.location.href=t.Url},!1,!0))),ss.isNullOrEmptyString(t.TextColour)||$(".js-banner-colour",i.get_domObject()).css("color",t.TextColour),i.set_isVisible(!0),l.onClick(function(){nt.$1(i,t.BannerId)},!1,!0),e.append(i)},nt.setup=function(t){if(!ServerModel.isEmbed){var e=ft.getList(VEL.Skynet.Global.Json.BannerJson).call(null,"BannersToShow");nt.$0(t,e),ft.storeList(VEL.Skynet.Global.Json.BannerJson).call(null,"BannersToShow",e)}},nt.$0=function(t,e){if(!ss.isNullOrEmptyString(t.Msg)&&!ss.isNullOrEmptyString(t.BannerId)&&!Enumerable.from(e).any(function(e){return ss.referenceEquals(e.BannerId,t.BannerId)})){var s={};if(nt.$7(t.BannerId,s)){if(!(1===t.EngagementRecurrence&&s.$.IsEngaged||1===t.DismissalRecurrence&&!s.$.IsEngaged||0===t.EngagementRecurrence&&s.$.IsEngaged&&ss.referenceEquals(s.$.DismissedDate,nt.$3())||0===t.DismissalRecurrence&&!s.$.IsEngaged&&ss.referenceEquals(s.$.DismissedDate,nt.$3()))){var i={},n={};2===t.EngagementRecurrence&&s.$.IsEngaged&&nt.$8(s.$.DismissedDate,i)&&nt.$8(t.ReminderDate,n)&&i.$>=n.$||2===t.DismissalRecurrence&&!s.$.IsEngaged&&nt.$8(s.$.DismissedDate,i)&&nt.$8(t.ReminderDate,n)&&i.$>=n.$||e.push(t)}}else e.push(t)}},nt.$5=function(t,e){var s=ct.get(e);if(!ss.isNullOrEmptyString(s))try{nt.$0(JSON.parse(s),t)}catch(t){ss.Exception.wrap(t)}},nt.$7=function(t,e){e.$=null;try{var s=ft.getList(VEL.Skynet.Global.Json.DismissedBannerJson).call(null,"DismissedBanners"),i=Enumerable.from(s).firstOrDefault(function(e){return ss.referenceEquals(e.BannerId,t)},ss.getDefaultValue(VEL.Skynet.Global.Json.DismissedBannerJson));return!ss.isNullOrUndefined(i)&&(e.$=i,!0)}catch(t){return!1}},nt.$1=function(t,e){nt.$4(t,e,!1)},nt.$2=function(t,e){nt.$4(t,e,!0)},nt.$4=function(t,e,s){var i;t.remove();try{i=ft.getList(VEL.Skynet.Global.Json.DismissedBannerJson).call(null,"DismissedBanners")}catch(t){i=[]}var n=Enumerable.from(i).firstOrDefault(function(t){return ss.referenceEquals(t.BannerId,e)},ss.getDefaultValue(VEL.Skynet.Global.Json.DismissedBannerJson));ss.isValue(n)&&ss.remove(i,n);var o=new VEL.Skynet.Global.Json.DismissedBannerJson;o.BannerId=e,o.DismissedDate=nt.$3(),o.IsEngaged=s,i.push(o),ft.storeList(VEL.Skynet.Global.Json.DismissedBannerJson).call(null,"DismissedBanners",i)},nt.$3=function(){return ss.formatDate(new Date,"yyyyMMdd")},nt.$8=function(t,e){e.$=new Date(0);var s=ss.parseExactDate(t,"yyyyMMdd",ss.CultureInfo.invariantCulture);if(!ss.isValue(s))return!1;var i=ss.unbox(s);return e.$=new Date(i.getFullYear(),i.getMonth(),i.getDate()),!0},global.VEL.Skynet.Global.Helpers.BannerHelper=nt;var ot=function(){};ot.__typeName="VEL.Skynet.Global.Helpers.Base64Helper",ot.dataViewToBase64=function(t){for(var e="",s=t.byteLength,i=0;i<s;i++)e+=String.fromCharCode(t.getUint8(i));return window.btoa(e)},ot.base64ToDataView=function(t){for(var e=window.atob(t),s=e.length,i=new DataView(new ArrayBuffer(s)),n=0;n<s;n++)i.setUint8(n,e.charCodeAt(n));return i},global.VEL.Skynet.Global.Helpers.Base64Helper=ot;var lt=function(){};lt.__typeName="VEL.Skynet.Global.Helpers.ClipboardHelper",lt.copyToClipboard=function(t,e){var s=document.createElement("textarea");s.textContent=t,s.style.top="0",s.style.opacity="0",s.style.left="0",s.style.position="fixed",e.append(s),s.focus(),s.select(),document.execCommand("copy"),s.remove()},lt.getClipboardImage=function(t,e,s){try{for(var i=((t.originalEvent||t).clipboardData||window.clipboardData).items,n=0;n<i.length;n++){var o=i[n];if(ss.startsWithString(o.type,"image")){var l={$:o.getAsFile()};if(ss.isValue(l.$)){var a={$:new FileReader};a.$.onload=ss.mkdel({reader:a,blob:l},function(t){var i=this.reader.$.result.toString();if(ss.startsWithString(i,"data:")&&i.length<15e4){var n=i.indexOf(",");if(-1!==n)return void e(i.substring(n+1))}L.create(this.reader.$.result.toString(),null,ss.mkdel({blob:this.blob},function(t){var i=ss.Int32.div(this.blob.$.size,1024),n=t.convertToBase64(i,s);e(n)}),null)}),a.$.readAsDataURL(l.$)}}}}catch(t){}},global.VEL.Skynet.Global.Helpers.ClipboardHelper=lt;var at=function(){};at.__typeName="VEL.Skynet.Global.Helpers.ConsentHelper",at.checkIfConsented=function(t,s,i){if(!at.$4(at.$2(t),t,s)){try{var n=at.$3(t);if(at.$4(n,t,s))return void at.accept(n.ConsentType,n.Version,n.Timestamp)}catch(s){e.event("corrupt_unsubmitted_consent",window.localStorage.getItem("unsubmitted_user_consents")),at.$0(t)}$.get("/consentajax/userconsent/"+t).success(function(e){e.Found?(at.$6(e.Result),at.$4(e.Result,t,s)||i()):i()}).fail(i)}},at.accept=function(t,e,s){var i=(new Date).toISOString();if(ss.isNullOrUndefined(s)){var n=new VEL.Skynet.Global.Json.UnsubmittedUserConsentJson;n.ConsentType=t,n.Version=e,n.Timestamp=i,at.$7(n)}var o="/consentajax/userconsent/?consentType="+t.toString()+"&version="+e+(ss.isNullOrUndefined(s)?"":"&elapsed="+(new Date(Date.parse(i)).getTime()-new Date(Date.parse(s)).getTime()));$.post(o).success(function(t){at.$6(t),at.$0(t.ConsentType)})},at.hasDismissedPolicyUpdateNotification=function(){if(ServerModel.isEmbed)return!0;try{var t=ft.get(VEL.Skynet.Global.Json.PolicyNotificationDismissalJson).call(null,"policy_update_dismissed");return ss.isValue(t)&&t.Version===ServerModel.policyVersion}catch(t){return!1}},at.dismissPolicyUpdateNotification=function(){if(!ServerModel.isEmbed){var t=new VEL.Skynet.Global.Json.PolicyNotificationDismissalJson;t.Version=ServerModel.policyVersion,t.Timestamp=(new Date).toISOString();var e=t;ft.store(VEL.Skynet.Global.Json.PolicyNotificationDismissalJson).call(null,"policy_update_dismissed",e)}},at.$4=function(t,e,s){if(ss.isNullOrUndefined(t))return!1;try{return t.ConsentType===e&&t.Version>=s}catch(t){return!1}},at.$1=function(t){return function(e,s){if(ServerModel.isEmbed)return null;var i=ft.getList(t).call(null,s);return Enumerable.from(i).firstOrDefault(function(t){return t.ConsentType===e},ss.getDefaultValue(t))}},at.$2=function(t){return at.$1(VEL.Skynet.Global.Json.UserConsentJson).call(null,t,"user_consents")},at.$3=function(t){return at.$1(VEL.Skynet.Global.Json.UnsubmittedUserConsentJson).call(null,t,"unsubmitted_user_consents")},at.$5=function(t){return function(e,s){if(!ServerModel.isEmbed){var i=ft.getList(t).call(null,s),n=Enumerable.from(i).indexOf(function(t){return t.ConsentType===e.ConsentType});-1===n?i.push(e):i[n]=e,ft.storeList(t).call(null,s,i)}}},at.$7=function(t){at.$5(VEL.Skynet.Global.Json.UnsubmittedUserConsentJson).call(null,t,"unsubmitted_user_consents")},at.$6=function(t){at.$5(VEL.Skynet.Global.Json.UserConsentJson).call(null,t,"user_consents")},at.$0=function(t){if(!ServerModel.isEmbed){var e=ft.getList(VEL.Skynet.Global.Json.UnsubmittedUserConsentJson).call(null,"unsubmitted_user_consents"),s=Enumerable.from(e).indexOf(function(e){return e.ConsentType===t});s>=0&&ss.removeAt(e,s),ft.storeList(VEL.Skynet.Global.Json.UnsubmittedUserConsentJson).call(null,"unsubmitted_user_consents",e)}},at.removeAllLocalConsents=function(){ServerModel.isEmbed||(ft.removeItem("user_consents"),ft.removeItem("unsubmitted_user_consents"))},at.cleanUpPolicyUpdateNotificationDismissal=function(){ServerModel.isEmbed||ft.removeItem("policy_update_dismissed")},global.VEL.Skynet.Global.Helpers.ConsentHelper=at;var rt=function(){};rt.__typeName="VEL.Skynet.Global.Helpers.CookieConsentHelper",rt.run=function(t,e,s){var i,n,o,l,a,r,c,u,h,d,$,g,m,f,p,b,_,v,y=0,k=new ss.TaskCompletionSource,S=function(){try{t:for(;;)switch(y){case 0:if(y=-1,!rt.cookieConsentIsEnabled)return i=rt.$0(),y=2,void i.continueWith(S);y=1;continue t;case 2:return y=-1,i.getAwaitedResult(),void k.setResult(null);case 1:return y=-1,(n=new Vt).revision=0,(o=new It).expiresAfterDays=364,n.cookie=o,n.categories=new Lt,l=n.categories,(a=new Ot).readOnly=!0,l.essential=a,n.categories.functional=new Ot,n.categories.functional.services=new Nt,n.categories.analytics=new Ot,n.categories.marketing=new Ot,r=n.categories.functional.services,(c=new Tt).label=Strings.cookieConsent_Services_GoogleClassroom,r.googleClassroom=c,u=n.categories.functional.services,(h=new Tt).label=Strings.cookieConsent_Services_YouTube,u.youTube=h,n.onFirstConsent=t,n.onChange=e,n.autoShow=!s,n.language=new Mt,n.language.default="currentLanguage",n.language.rtl=ut.isRTL()?["currentLanguage"]:[],n.language.translations=new Bt,n.language.translations.currentLanguage=new Pt,n.language.translations.currentLanguage.consentModal=new Gt,n.language.translations.currentLanguage.consentModal.title=Strings.cookieConsent_ConsentModal_Title,n.language.translations.currentLanguage.consentModal.description=ss.formatString(Strings.cookieConsent_ConsentModal_Description2,rt.$1(St.localize("/cookie-policy"),Strings.policy_CookiePolicy,"")),n.language.translations.currentLanguage.consentModal.acceptAllBtn=Strings.cookieConsent_ConsentModal_AcceptAllBtn,n.language.translations.currentLanguage.consentModal.acceptNecessaryBtn=Strings.cookieConsent_ConsentModal_AcceptNecessaryBtn,n.language.translations.currentLanguage.consentModal.showPreferencesBtn=Strings.cookieConsent_ConsentModal_ShowPreferencesBtn,n.language.translations.currentLanguage.consentModal.footer=ss.formatString("{0}{1}",rt.$1(St.localize("/privacy"),Strings.policy_PrivacyPolicy,""),rt.$1(St.localize("/terms"),Strings.policy_TermsOfUse,"")),n.language.translations.currentLanguage.preferencesModal=new xt,n.language.translations.currentLanguage.preferencesModal.title=Strings.cookieConsent_PrefModal_Title,n.language.translations.currentLanguage.preferencesModal.acceptAllBtn=Strings.cookieConsent_PrefModal_AcceptAllBtn,n.language.translations.currentLanguage.preferencesModal.acceptNecessaryBtn=Strings.cookieConsent_PrefModal_AcceptNecessaryBtn,n.language.translations.currentLanguage.preferencesModal.savePreferencesBtn=Strings.cookieConsent_PrefModal_SavePreferencesBtn,n.language.translations.currentLanguage.preferencesModal.closeIconLabel=Strings.cookieConsent_PrefModal_CloseIconLabel,d=n.language.translations.currentLanguage.preferencesModal,($=new At).title=Strings.cookieConsent_PrefModal_TopTitle,$.description=Strings.cookieConsent_PrefModal_TopDescription,(g=new At).title=ss.formatString('{0} <span class="pm__badge">{1}</span>',Strings.cookieConsent_Essential_Title2,Strings.cookieConsent_Essential_AlwaysEnabled),g.description=Strings.cookieConsent_Essential_Description,g.linkedCategory="essential",(m=new At).title=Strings.cookieConsent_Functional_Title,m.description=Strings.cookieConsent_Functional_Description,m.linkedCategory="functional",(f=new At).title=Strings.cookieConsent_Analytics_Title,f.description=Strings.cookieConsent_Analytics_Description,f.linkedCategory="analytics",(p=new At).title=Strings.cookieConsent_Marketing_Title,p.description=Strings.cookieConsent_Marketing_Description,p.linkedCategory="marketing",(b=new At).title=Strings.cookieConsent_PrefModal_BottomTitle,b.description=ss.formatString("{0} {1}",Strings.cookieConsent_PrefModal_BottomDescription2,rt.$1(St.localize("/contact"),Strings.cookieConsent_PrefModal_ContactUs,"cc__link")),d.sections=[$,g,m,f,p,b],_=ct.get("__debug_cc_hide_from_bots"),ss.isNullOrEmptyString(_)?n.hideFromBots=!0:n.hideFromBots=/^\s*true\s*$/i.test(_),v=ss.Task.fromPromise(CookieConsent.run(n)),y=3,void v.continueWith(S);case 3:y=-1,v.getAwaitedResult(),y=-1;break t;default:break t}k.setResult(null)}catch(t){k.setException(ss.Exception.wrap(t))}};return S(),k.task},rt.openPreferencesModal=function(){rt.cookieConsentIsEnabled&&CookieConsent.showPreferences()},rt.getAcceptType=function(){if(!rt.cookieConsentIsEnabled)return null;switch(CookieConsent.getUserPreferences().acceptType){case"all":return 0;case"custom":return 1;case"necessary":return 2;default:return null}},rt.areFunctionalCookiesAllowed=function(){return!rt.cookieConsentIsEnabled||ss.contains(CookieConsent.getUserPreferences().acceptedCategories,"functional")},rt.areAnalyticsCookiesAllowed=function(){return!rt.cookieConsentIsEnabled||ss.contains(CookieConsent.getUserPreferences().acceptedCategories,"analytics")},rt.areMarketingCookiesAllowed=function(){return!rt.cookieConsentIsEnabled||ss.contains(CookieConsent.getUserPreferences().acceptedCategories,"marketing")},rt.areFunctionalGoogleClassroomCookiesAllowed=function(){return!rt.cookieConsentIsEnabled||ss.contains(CookieConsent.getUserPreferences().acceptedServices.functional,"googleClassroom")},rt.areFunctionalYouTubeCookiesAllowed=function(){return!rt.cookieConsentIsEnabled||ss.contains(CookieConsent.getUserPreferences().acceptedServices.functional,"youTube")},rt.$0=function(){var t,e,s,i,n,o,l,a,r,c=0,u=new ss.TaskCompletionSource,h=function(){try{t:for(;;)switch(c){case 0:c=-1,t=$("script[data-category]").toArray(),e=0,c=1;continue t;case 1:if(c=-1,!(e<t.length)){c=-1;break t}for(s=t[e],i=document.createElement("script"),(n=ss.safeCast(i,ss.isValue(i)&&ss.isInstanceOfType(i,Element)&&"SCRIPT"===i.tagName)).text=s.innerHTML,o=s.attributes,l=0;l<o.length;l++)a=o[l],n.setAttribute(a.name,a.value);return n.removeAttribute("type"),n.removeAttribute("data-category"),n.removeAttribute("data-service"),n.removeAttribute("data-type"),n.removeAttribute("data-src"),s.hasAttribute("data-type")&&n.setAttribute("type",s.getAttribute("data-type")),s.hasAttribute("data-src")&&n.setAttribute("src",s.getAttribute("data-src")),r={$:new ss.TaskCompletionSource},n.onload=ss.mkdel({onLoadOrErrorTask:r},function(t){this.onLoadOrErrorTask.$.setResult(null)}),n.onerror=ss.mkdel({onLoadOrErrorTask:r},function(t){this.onLoadOrErrorTask.$.setResult(null)}),s.parentNode.replaceChild(n,s),c=3,void r.$.task.continueWith(h);case 3:c=-1,r.$.task.getAwaitedResult(),c=2;continue t;case 2:c=-1,e++,c=1;continue t;default:break t}u.setResult(null)}catch(t){u.setException(ss.Exception.wrap(t))}};return h(),u.task},rt.$1=function(t,e,s){return ss.isNullOrEmptyString(s)?ss.formatString('<a href="{0}">{1}</a>',t,e):ss.formatString('<a href="{0}" class="{1}">{2}</a>',t,s,e)},global.VEL.Skynet.Global.Helpers.CookieConsentHelper=rt;var ct=function(){};ct.__typeName="VEL.Skynet.Global.Helpers.CookieHelper",ct.get=function(t){try{var e=new RegExp("(^| )"+t+"=([^;]+)"),s=document.cookie.match(e);if(ss.isValue(s)&&s.length>2)return ct.$0(s[2])}catch(t){}return null},ct.$0=function(t){return decodeURIComponent(t)},ct.set=function(t,e,s){try{var i=t+"="+ct.$1(e)+";path=/";s>0&&(i+=";max-age="+s),document.cookie=i}catch(t){return!1}return!0},ct.$1=function(t){return encodeURIComponent(t)},ct.remove=function(t){try{document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/"}catch(t){}},global.VEL.Skynet.Global.Helpers.CookieHelper=ct;var ut=function(){};ut.__typeName="VEL.Skynet.Global.Helpers.DeviceHelper",ut.isPhoneSized=function(){return window.innerWidth<=660||window.innerHeight<=500},ut.isPortraitPhoneSized=function(){return window.innerWidth<=660},ut.isInternetExplorer=function(){var t=window.navigator.userAgent;return-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/")||-1!==t.indexOf("Edge/")},ut.isRTL=function(){return"rtl"===document.documentElement.getAttribute("dir")},ut.isWebpSupported=function(t){if(ss.isValue(ut.$1))t(ss.unbox(ut.$1));else{var e=new Image;e.onload=function(s){ut.$1=e.width>0&&e.height>0,t(ss.unbox(ut.$1))},e.onerror=function(e){ut.$1=!1,t(!1)},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA=="}},ut.isOggSupported=function(t){if(ss.isValue(ut.$0))t(ss.unbox(ut.$0));else{var e=(new Audio).canPlayType("audio/ogg; codecs=vorbis");ut.$0=""!==e,t(ss.unbox(ut.$0))}},global.VEL.Skynet.Global.Helpers.DeviceHelper=ut;var ht=function(){};ht.__typeName="VEL.Skynet.Global.Helpers.ElementHelper",ht.onProfilePicError=function(t){t.onerror=null,t.src=Assets.cdn["/content/images/large_profile.png".toLowerCase()]},global.VEL.Skynet.Global.Helpers.ElementHelper=ht;var dt=function(){};dt.__typeName="VEL.Skynet.Global.Helpers.EventsHelper",dt.addShareEvent$1=function(t,e,s,i,n){dt.$0(t,"location:"+e+",templateId:"+s+",activityId:"+i+",homeworkId:"+n,!1)},dt.addShareEvent=function(t,e,s){dt.$0(t,"location:"+e+",tags:"+s,!1)},dt.addFaqEvent=function(t,e){dt.$0(120,"question:"+t+",position:"+e,!1)},dt.addPrinterEvent=function(t,e,s,i,n){var o=ss.isValue(e)?"printerId:"+e+",":"";dt.$0(t,o+="defaultPrinterId:"+s+",templateId:"+i+",activityId:"+n,!1)},dt.addSoundEvent=function(t,e,s,i){dt.$0(t,"value:"+e+",themeId:"+s+",templateId:"+i,!1)},dt.addEditorImageEvent=function(t,e){dt.$0(t,ss.isNullOrUndefined(e)?null:"isUpload:"+(ss.unbox(e)?1:0),!0)},dt.addEditorSessionStartsEvent=function(t,e,s){dt.$0(1004,"sessionId:"+t+",activityId:"+e+",templateId:"+s,!0)},dt.addEditorSessionEndsEvent=function(t){dt.$0(1005,"sessionId:"+t,!0)},dt.addEditorValidationFailedEvents=function(t,e,s,i){var n=Enumerable.from(i).groupBy(function(t){return t.get_type()}).getEnumerator();try{for(;n.moveNext();){var o=n.current();dt.$0(1006,"sessionId:"+t+",attempt:"+e+",isBlocking:"+s+",type:"+o.key()+",count:"+o.count(),!0)}}finally{n.dispose()}},dt.$0=function(t,e,s){try{$.ajax({type:"POST",url:"/eventsajax/addevent?type="+t+"&sampled="+s,data:e})}catch(t){}},global.VEL.Skynet.Global.Helpers.EventsHelper=dt;var $t=function(t){this.$0=null,this.$0=t};$t.__typeName="VEL.Skynet.Global.Helpers.GoogleClassroomErrorReporter",global.VEL.Skynet.Global.Helpers.GoogleClassroomErrorReporter=$t;var gt=function(){};gt.__typeName="VEL.Skynet.Global.Helpers.GoogleClassroomHelper",gt.exceptionToError=function(t){return 0!==t.arguments.length?ss.cast(t.arguments[0],VEL.Skynet.Global.Json.GoogleClassroom.GoogleClassroomError):null},gt.exceptionToLogErrorMessage=function(t){var e=gt.exceptionToError(t),s=ss.isValue(e)?e.message:null,i=ss.isValue(e)?e.errorCode:null;return"Google Classroom error: "+(ss.isNullOrEmptyString(s)?t.get_message():s)+(ss.isNullOrEmptyString(i)?"":" ("+i+")")},global.VEL.Skynet.Global.Helpers.GoogleClassroomHelper=gt;var mt=function(t,e){if(this.$1=null,this.$2=null,this.$1=e,ss.startsWithString(t,"<"))this.$2=t;else{ss.startsWithString(t,"#")||(t="#"+t);var s=$(t);if(0===s.length)throw new ss.ArgumentException("template id='"+t+"' not found");this.$2=s.html(),this.$2=this.$0(this.$2)}};mt.__typeName="VEL.Skynet.Global.Helpers.HtmlTemplate",mt.clearCache=function(){mt.$0.clear()},mt.buildTemplate=function(t,e){return $(mt.toString(t,e))},mt.toString=function(t,e){var s={$:null};return mt.$0.tryGetValue(t,s)||(s.$=new mt(t,[]),mt.$0.set_item(t,s.$)),s.$.toString$1(e)},global.VEL.Skynet.Global.Helpers.HtmlTemplate=mt;var ft=function(){};ft.__typeName="VEL.Skynet.Global.Helpers.LocalStorageHelper",ft.get=function(t){return function(e){if(ss.isNullOrEmptyString(e))return ss.getDefaultValue(t);var s=window.localStorage.getItem(e);if(ss.isNullOrEmptyString(s))return ss.getDefaultValue(t);try{return JSON.parse(s)}catch(e){return ss.getDefaultValue(t)}}},ft.store=function(t){return function(t,e){var s=JSON.stringify(e);window.localStorage.setItem(t,s)}},ft.getList=function(t){return function(t){return ft.get(Array).call(null,t)||[]}},ft.storeList=function(t){return function(t,e){ss.isNullOrUndefined(e)||0===e.length?ft.removeItem(t):ft.store(Array).call(null,t,e)}},ft.getBooleanFromLocalStorage=function(t){var e={};return ss.tryParseBool(window.localStorage.getItem(t),e),e.$},ft.storeBooleanInLocalStorage=function(t,e){window.localStorage.setItem(t,e.toString())},ft.removeItem=function(t){window.localStorage.removeItem(t)},global.VEL.Skynet.Global.Helpers.LocalStorageHelper=ft;var pt=function(){};pt.__typeName="VEL.Skynet.Global.Helpers.NativeShareHelper",pt.share=function(t,e,s){return null!=navigator.share&&!ss.isNullOrEmptyString(t)&&(navigator.share({url:t,title:e,text:s}),!0)},global.VEL.Skynet.Global.Helpers.NativeShareHelper=pt;var bt=function(){};bt.__typeName="VEL.Skynet.Global.Helpers.NaturalSortHelper",bt.compareStringsNatural=function(t,e){if(ss.referenceEquals(t,e))return 0;if(ss.isNullOrUndefined(t))return-1;if(ss.isNullOrUndefined(e))return 1;for(var s=bt.$0(t),i=bt.$0(e),n=Math.max(s.length,i.length),o=0;o<n;o++){if(o>=s.length)return-1;if(o>=i.length)return 1;var l=s[o],a=i[o],r={},c={};if(ss.Int32.tryParse(l,r)&&ss.Int32.tryParse(a,c)){var u=ss.compare(r.$,c.$);if(0!==u)return u}else{var h=ss.compareStrings(l,a,!0);if(0!==h)return h}}return 0},bt.$0=function(t){var e=[];if(ss.isNullOrEmptyString(t))return Array.prototype.slice.call(e);for(var s=ss.isNumber(t.charCodeAt(0)),i=0,n=1;n<t.length;n++){var o=t.charCodeAt(n),l=ss.isNumber(o);l!==s&&(e.push(t.substr(i,n-i)),i=n,s=l)}return e.push(t.substring(i)),Array.prototype.slice.call(e)},global.VEL.Skynet.Global.Helpers.NaturalSortHelper=bt;var _t=function(){this.$1=null,this.$0=null,this.$1=new p.$ctor1(".js-notification-banners"),this.$0=new mt("notification_banner_template",[])};_t.__typeName="VEL.Skynet.Global.Helpers.NotificationBannerHelper",_t.get_instance=function(){return ss.isNullOrUndefined(_t.$1)&&(_t.$1=new _t),_t.$1},global.VEL.Skynet.Global.Helpers.NotificationBannerHelper=_t;var vt=function(){};vt.__typeName="VEL.Skynet.Global.Helpers.RedirectHelper",vt.setupRedirectButtons=function(t,e){new h(t,function(t){window.location.href=t.getAttribute(e)},null)},global.VEL.Skynet.Global.Helpers.RedirectHelper=vt;var yt=function(){};yt.__typeName="VEL.Skynet.Global.Helpers.SettingsHelper",yt.set=function(t,e,s){try{s?window.sessionStorage[t]=e.toString():window.localStorage[t]=e.toString()}catch(t){}},yt.get$1=function(t,e){var s={};return ss.Int32.tryParse(yt.get$2(t,e.toString()),s)?s.$:e},yt.get=function(t,e){return"true"===yt.get$2(t,e.toString()).toLowerCase()},yt.get$2=function(t,e){try{var s=window.localStorage[t];return void 0===s&&void 0===(s=window.sessionStorage[t])&&(s=e),s}catch(t){return e}},yt.remove=function(t){try{window.localStorage.removeItem(t),window.sessionStorage.removeItem(t)}catch(t){}},global.VEL.Skynet.Global.Helpers.SettingsHelper=yt;var kt=function(){};kt.__typeName="VEL.Skynet.Global.Helpers.SocialMediaHelper",kt.createFacebookShareLink=function(t,e){return ss.formatString("https://www.facebook.com/sharer/sharer.php?u={0}&t={1}",encodeURIComponent(t).replace(/%20/g,"+"),encodeURIComponent(e).replace(/%20/g,"+"))},kt.createPinterestShareLink=function(t,e){return ss.formatString("https://pinterest.com/pin/create/link/?url={0}&description={1}",encodeURIComponent(t).replace(/%20/g,"+"),encodeURIComponent(e).replace(/%20/g,"+"))},global.VEL.Skynet.Global.Helpers.SocialMediaHelper=kt;var St=function(){};St.__typeName="VEL.Skynet.Global.Helpers.UrlHelper",St.localize=function(t){var e=window.location.href.split(String.fromCharCode(47));if(e.length<4)return t;var s=e[3];return 2===s.length||5===s.length&&45===s.charCodeAt(2)?"/"+s+t:t},St.getUrlParameter=function(t){var e=window.location.search,s=e.indexOf(t+"=");if(-1===s)return null;var i,n=s+1+t.length,o=e.indexOf(String.fromCharCode(38),n);return i=-1===o?e.substring(n):e.substr(n,o-n),i=ss.replaceAllString(i,"+","%20"),decodeURIComponent(i)},St.isRelease=function(){return-1!==window.location.href.indexOf("skynet.net")},global.VEL.Skynet.Global.Helpers.UrlHelper=St;var wt=function(){};wt.__typeName="VEL.Skynet.Global.Helpers.ValidityHelper",wt.isEmail=function(t){return!(ss.isNullOrUndefined(t)||t.length<4)&&(ss.endsWithString(t,"@skynet.net")?wt.$2.test(t):wt.$0.test(t))},wt.isPassword=function(t){return ss.isValue(t)&&t.length>=ServerModel.minPasswordLength},global.VEL.Skynet.Global.Helpers.ValidityHelper=wt;var Ct=function(){};Ct.__typeName="VEL.Skynet.Global.Interop.DragDealer",global.VEL.Skynet.Global.Interop.DragDealer=Ct;var Et=function(){this.steps=0,this.speed=0,this.slide=!1,this.css3=!1,this.callback=null};Et.__typeName="VEL.Skynet.Global.Interop.DragDealerOptions",global.VEL.Skynet.Global.Interop.DragDealerOptions=Et;var jt=function(t){this.$1=null,this.$1=t};jt.__typeName="VEL.Skynet.Global.Interop.GoogleClassroomClient",jt.createSetAssignmentClient=function(t,e){var s,i,n=0,o=new ss.TaskCompletionSource,l=function(){try{t:for(;;)switch(n){case 0:return n=-1,s=VEL.Skynet.Global.Interop.InteropHelper.waitFor$1("gapi",100,0),n=1,void s.continueWith(l);case 1:return n=-1,s.getAwaitedResult(),i=ss.Task.fromPromise(GoogleClassroom.createSetAssignmentClient(t,e),0),n=2,void i.continueWith(l);case 2:return n=-1,void o.setResult(new jt(i.getAwaitedResult()));default:break t}}catch(t){o.setException(ss.Exception.wrap(t))}};return l(),o.task},jt.createDoAssignmentClient=function(t,e){var s,i,n=0,o=new ss.TaskCompletionSource,l=function(){try{t:for(;;)switch(n){case 0:return n=-1,s=VEL.Skynet.Global.Interop.InteropHelper.waitFor$1("gapi",100,0),n=1,void s.continueWith(l);case 1:return n=-1,s.getAwaitedResult(),i=ss.Task.fromPromise(GoogleClassroom.createDoAssignmentClient(t,e),0),n=2,void i.continueWith(l);case 2:return n=-1,void o.setResult(new jt(i.getAwaitedResult()));default:break t}}catch(t){o.setException(ss.Exception.wrap(t))}};return l(),o.task},jt.createAssignmentResultsClient=function(t,e){var s,i,n=0,o=new ss.TaskCompletionSource,l=function(){try{t:for(;;)switch(n){case 0:return n=-1,s=VEL.Skynet.Global.Interop.InteropHelper.waitFor$1("gapi",100,0),n=1,void s.continueWith(l);case 1:return n=-1,s.getAwaitedResult(),i=ss.Task.fromPromise(GoogleClassroom.createAssignmentResultsClient(t,e),0),n=2,void i.continueWith(l);case 2:return n=-1,void o.setResult(new jt(i.getAwaitedResult()));default:break t}}catch(t){o.setException(ss.Exception.wrap(t))}};return l(),o.task},global.VEL.Skynet.Global.Interop.GoogleClassroomClient=jt;var Vt=function(){this.revision=0,this.cookie=null,this.categories=null,this.onFirstConsent=null,this.onChange=null,this.onModalShow=null,this.onModalHide=null,this.language=null,this.hideFromBots=!1,this.autoShow=!1};Vt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfig",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfig=Vt;var Lt=function(){this.essential=null,this.functional=null,this.analytics=null,this.marketing=null};Lt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigCategories",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigCategories=Lt;var Ot=function(){this.readOnly=!1,this.services=null};Ot.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigCategory",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigCategory=Ot;var Gt=function(){this.title=null,this.description=null,this.acceptAllBtn=null,this.acceptNecessaryBtn=null,this.showPreferencesBtn=null,this.footer=null};Gt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigConsentModal",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigConsentModal=Gt;var It=function(){this.expiresAfterDays=0};It.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigCookie",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigCookie=It;var Mt=function(){this.default=null,this.rtl=null,this.translations=null};Mt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigLanguage",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigLanguage=Mt;var xt=function(){this.title=null,this.acceptAllBtn=null,this.acceptNecessaryBtn=null,this.savePreferencesBtn=null,this.closeIconLabel=null,this.sections=null};xt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigPreferencesModal",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigPreferencesModal=xt;var At=function(){this.title=null,this.description=null,this.linkedCategory=null};At.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigSection",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigSection=At;var Tt=function(){this.label=null};Tt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigService",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigService=Tt;var Nt=function(){this.googleClassroom=null,this.youTube=null};Nt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigServices",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigServices=Nt;var Pt=function(){this.consentModal=null,this.preferencesModal=null};Pt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigTranslation",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigTranslation=Pt;var Bt=function(){this.currentLanguage=null};Bt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigTranslations",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConfigTranslations=Bt;var Dt=function(){};Dt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConstants",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentConstants=Dt;var Ht=function(){this.essential=null,this.functional=null,this.analytics=null,this.marketing=null};Ht.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentServices",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentServices=Ht;var Ut=function(){this.acceptType=null,this.acceptedCategories=null,this.rejectedCategories=null,this.acceptedServices=null,this.rejectedServices=null};Ut.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentUserPreferences",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.CookieConsentUserPreferences=Ut;var Rt=function(){this.modalName=null};Rt.__typeName="VEL.Skynet.Global.Interop.OrestBidaCookieConsent.ModalEvent",global.VEL.Skynet.Global.Interop.OrestBidaCookieConsent.ModalEvent=Rt;var Ft=function(){};Ft.__typeName="VEL.Skynet.Global.Modals.$0";var qt=function(t,e,s){this.$g=0,this.$f=null,this.$e=null,ce.call(this,"feedback-modal","feedback-modal-wrapper"),this.$g=t,this.$f=e,this.$e=s};qt.__typeName="VEL.Skynet.Global.Modals.AiGenerationFeedbackModal",global.VEL.Skynet.Global.Modals.AiGenerationFeedbackModal=qt;var zt=function(t){Kt.call(this,t)};zt.__typeName="VEL.Skynet.Global.Modals.AssignmentLinkModal",global.VEL.Skynet.Global.Modals.AssignmentLinkModal=zt;var Wt=function(t,e,s){this.$g=null,this.$i=null,this.$h=null,ce.call(this,"prompt-modal","modal-size-medium"),this.$g=t,this.$i=e,this.$h=s};Wt.__typeName="VEL.Skynet.Global.Modals.CancelSubscriptionConfirmModal",global.VEL.Skynet.Global.Modals.CancelSubscriptionConfirmModal=Wt;var Jt=function(t,e){this.$f=null,this.$g=null,this.$h=0,ce.call(this,"prompt-modal","modal-size-small"),this.$f=t,this.$h=e};Jt.__typeName="VEL.Skynet.Global.Modals.CancelSubscriptionModal",global.VEL.Skynet.Global.Modals.CancelSubscriptionModal=Jt;var Kt=function(t){this.$h=null,this.$g=null,this.$f=null,this.$i=null,ce.call(this,"prompt-modal copylink-modal","modal-size-small"),this.$i=t};Kt.__typeName="VEL.Skynet.Global.Modals.CopyLinkModal",global.VEL.Skynet.Global.Modals.CopyLinkModal=Kt;var Qt=function(t,e){this.$h=null,this.$g=null,this.$f=null,this.$e=null,ce.call(this,null,"deadline-modal-wrapper"),this.$g=t,this.$h=e};Qt.__typeName="VEL.Skynet.Global.Modals.DeadlineModal",global.VEL.Skynet.Global.Modals.DeadlineModal=Qt;var Yt=function(t,e){this.$f=0,this.$h=null,this.$g=null,ce.call(this,"edit-metadata-modal","edit-metadata-modal-wrapper"),this.$f=t,this.$h=e};Yt.__typeName="VEL.Skynet.Global.Modals.EditTagsModal",global.VEL.Skynet.Global.Modals.EditTagsModal=Yt;var Xt=function(t,e,s,i,n,o,l){this.$n=null,re.call(this,t,e,s,i,n,o,l)};Xt.__typeName="VEL.Skynet.Global.Modals.EmailInputModal",global.VEL.Skynet.Global.Modals.EmailInputModal=Xt;var Zt=function(t){this.$e=null,ce.call(this,"prompt-modal","modal-size-small"),this.$e=t};Zt.__typeName="VEL.Skynet.Global.Modals.ErrorModal",global.VEL.Skynet.Global.Modals.ErrorModal=Zt;var te=function(t,e,s){this.$h=0,this.$g=0,this.$e=0,this.$f=null,ce.call(this,"feedback-modal","feedback-modal-wrapper"),this.$h=t,this.$g=e,this.$e=s};te.__typeName="VEL.Skynet.Global.Modals.ExperimentFeedbackModal",te.$ctor1=function(t,e,s,i){this.$h=0,this.$g=0,this.$e=0,this.$f=null,ce.call(this,"feedback-modal","feedback-modal-wrapper"),this.$h=t,this.$g=e,this.$e=s,this.$f=i},global.VEL.Skynet.Global.Modals.ExperimentFeedbackModal=te;var ee=function(t){this.$f=0,ce.call(this,"prompt-modal","modal-size-small"),this.$f=t};ee.__typeName="VEL.Skynet.Global.Modals.ExportModal",global.VEL.Skynet.Global.Modals.ExportModal=ee;var se=function(t,e,s){this.$f=0,this.$e=0,this.$g=null,ce.call(this,"feedback-modal","feedback-modal-wrapper"),this.$f=t,this.$e=e,this.$g=s};se.__typeName="VEL.Skynet.Global.Modals.FeedbackModal",global.VEL.Skynet.Global.Modals.FeedbackModal=se;var ie=function(){};ie.__typeName="VEL.Skynet.Global.Modals.FeedbackMode",global.VEL.Skynet.Global.Modals.FeedbackMode=ie;var ne=function(t){this.$2=null,this.$1$1=0,this.set_color(t)};ne.__typeName="VEL.Skynet.Global.Modals.FolderColorPicker",global.VEL.Skynet.Global.Modals.FolderColorPicker=ne;var oe=function(t,e,s,i,n,o,l){this.prompt=null,this.maxLength=0,this.placeholder=null,this.$f=null,this.initialText=null,this.selectAll=!1,this.$e=null,this.input=null,ce.call(this,"input-modal","input-modal-wrapper"),this.prompt=t,this.$f=e,this.maxLength=s,this.placeholder=i,this.initialText=n,this.selectAll=o,this.$e=l};oe.__typeName="VEL.Skynet.Global.Modals.FolderInputAndColorModal",global.VEL.Skynet.Global.Modals.FolderInputAndColorModal=oe;var le=function(t,e,s){this.$f=0,this.$g=null,this.$e=null,ce.call(this,"input-modal","input-modal-wrapper"),this.$f=t,this.$g=e,this.$e=s};le.__typeName="VEL.Skynet.Global.Modals.FolderRecolorModal",global.VEL.Skynet.Global.Modals.FolderRecolorModal=le;var ae=function(){};ae.__typeName="VEL.Skynet.Global.Modals.IActivity",global.VEL.Skynet.Global.Modals.IActivity=ae;var re=function(t,e,s,i,n,o,l){this.$k=null,this.$h=0,this.$j=null,this.$i=null,this.$f=null,this.$l=!1,this.$e=null,this.$g=null,this.button=null,ce.call(this,"input-modal","input-modal-wrapper"),this.$k=t,this.$i=e,this.$h=s,this.$j=i,this.$f=n,this.$l=o,this.$e=l};re.__typeName="VEL.Skynet.Global.Modals.InputModal",global.VEL.Skynet.Global.Modals.InputModal=re;var ce=function(t,e){this.$a=!1,this.$9=!1,this.$4=null,this.$d=null,this.$c=null,this.$1=null,this.$b=null,this.$8=null,this.$3=null,this.$6=null,this.$5=null,this.$7=null,this.noMaxHeight=!1,this.$2=null,this.$2=[],this.$4=ss.coalesce(t,""),this.$d=ss.coalesce(e,"")};ce.__typeName="VEL.Skynet.Global.Modals.Modal",ce.closeActiveModal=function(){ss.isValue(ce.$0)&&ce.$0.closeModal()},ce.openNewTab=function(t){var e=window.open(t,"_blank");ss.isValue(e)&&e.focus()},ce.openPopup=function(t){var e=window.innerWidth,s=window.innerHeight,i=ss.Int32.div(e,2)-300+10,n=ss.Int32.div(s,2)-250+50,o=window.open(t,"_blank","scrollbars=yes, width=600, height=500, top="+n+", left="+i);ss.isValue(o)&&o.focus()},global.VEL.Skynet.Global.Modals.Modal=ce;var ue=function(t){this.$f=null,this.$e=null,ce.call(this,null,"move-item-modal-wrapper"),this.$f=t};ue.__typeName="VEL.Skynet.Global.Modals.MoveModal",global.VEL.Skynet.Global.Modals.MoveModal=ue;var he=function(t,e,s){this.$f=null,this.$g=null,this.$h=null,ce.call(this,"prompt-modal","modal-size-small"),this.$f=t,this.$g=e,this.$h=s};he.__typeName="VEL.Skynet.Global.Modals.OkModal",global.VEL.Skynet.Global.Modals.OkModal=he;var de=function(t,e){this.$h=null,ce.call(this,t,e+" paged-modal"),this.$h=[]};de.__typeName="VEL.Skynet.Global.Modals.PagedModal",global.VEL.Skynet.Global.Modals.PagedModal=de;var $e=function(t,e,s){this.$l=0,this.$k=!1,this.$j=!1,ce.call(this,"prompt-modal","modal-size-small"),this.$l=t,this.$k=e,this.$j=s};$e.__typeName="VEL.Skynet.Global.Modals.PolicyUpdateModal",global.VEL.Skynet.Global.Modals.PolicyUpdateModal=$e;var ge=function(){ce.call(this,"progress-modal","progress-modal-wrapper")};ge.__typeName="VEL.Skynet.Global.Modals.ProgressModal",global.VEL.Skynet.Global.Modals.ProgressModal=ge;var me=function(){ce.call(this,"prompt-modal","modal-size-small")};me.__typeName="VEL.Skynet.Global.Modals.ProRequiredModal",global.VEL.Skynet.Global.Modals.ProRequiredModal=me;var fe=function(){this.$g=null,ce.call(this,"prompt-modal","modal-size-small")};fe.__typeName="VEL.Skynet.Global.Modals.SendAsEmailModal",global.VEL.Skynet.Global.Modals.SendAsEmailModal=fe;var pe=function(t){Kt.call(this,t)};pe.__typeName="VEL.Skynet.Global.Modals.ShareableResultsLinkModal",global.VEL.Skynet.Global.Modals.ShareableResultsLinkModal=pe;var be=function(t){this.$o=null,this.$q=!1,this.$r=!1,this.startOnShareOrAssignment=!1,this.startOnPublish=!1,this.startOnAssignment=!1,this.isAuthor=!1,this.$p=!1,this.$3$1=null,this.$3$2=null,this.$n=window.matchMedia("(max-width: 600px)"),de.call(this,"share-activity-modal","share-activity-modal-wrapper"),this.$m(t)};be.__typeName="VEL.Skynet.Global.Modals.ShareModal",be.$ctor1=function(t){this.$o=null,this.$q=!1,this.$r=!1,this.startOnShareOrAssignment=!1,this.startOnPublish=!1,this.startOnAssignment=!1,this.isAuthor=!1,this.$p=!1,this.$3$1=null,this.$3$2=null,this.$n=window.matchMedia("(max-width: 600px)"),de.call(this,"share-activity-modal","share-activity-modal-wrapper"),this.$k(t)},be.openAsEmbed=function(t,e){var s=new be.$ctor1(t);s.$p=e,s.$q=!0,s.open()},be.openAsQr$1=function(t){var e=new be.$ctor1(t);t.get_isShared()?e.$r=!0:(e.startOnPublish=!0,i.displayMessage(Strings.share_IsPrivate,!0,0)),e.open()},be.openAsQr=function(t){tt.displayProgress();var e="/resultajax/getsharehomework?homeworkGameId="+t;$.getJSON(e,function(t){tt.success(null,!1);var e=new be(t);e.$r=!0,e.open()})},be.openAsShare=function(t){var e=new be.$ctor1(t);e.startOnPublish=!0,e.open()},be.openAsAssignment=function(t){var e=new be.$ctor1(t);e.startOnAssignment=!0,e.open()},be.openAsShareOrAssignment=function(t,e){if(0!==t.get_homeworkType()&&ServerHelper.get_isLoggedIn()){var s=new be.$ctor1(t);s.startOnShareOrAssignment=!0,s.isAuthor=e,s.open()}else be.openAsShare(t)},be.loadShareModal=function(t){tt.displayProgress();var e="/resultajax/getsharehomework?homeworkGameId="+t;$.getJSON(e,function(t){tt.success(null,!1),new be(t).open()})},global.VEL.Skynet.Global.Modals.ShareModal=be;var _e=function(t,e,s){this.$1=null,this.$2=null,this.$0=null,this.$1=t,this.$2=e,this.$0=s};_e.__typeName="VEL.Skynet.Global.Modals.SubscriptionRequiredFeatureInfo",global.VEL.Skynet.Global.Modals.SubscriptionRequiredFeatureInfo=_e;var ve=function(t){this.$e=0,this.$f=null,ce.call(this,"prompt-modal subscription-required-modal","modal-size-small"),this.$e=t,this.$f=new(ss.makeGenericType(ss.Dictionary$2,[VEL.Skynet.Global.Enums.SubscriptionRequiredFeatureEnum,_e])),this.$f.set_item(0,new _e("print",Strings.resource_SubscriptionRequired_PrintablesTitle,"https://app.cdn.skynet.net/static/content/images/subscription_required_modal/print.2itocsdeulzc2if45g6n3eq2.png")),this.$f.set_item(1,new _e("ai",Strings.resource_SubscriptionRequired_AITitle,"https://app.cdn.skynet.net/static/content/images/subscription_required_modal/ai.29dlrvtf8gaghemgvq3ptbw2.png")),this.$f.set_item(2,new _e("options",Strings.resource_SubscriptionRequired_GameOptionsTitle,"https://app.cdn.skynet.net/static/content/images/subscription_required_modal/gameoption.2f0_d2fuvsveq_zd2jhsjka2.png")),this.$f.set_item(3,new _e("editrestricted",Strings.resource_SubscriptionRequired_EditContentTitle,"https://app.cdn.skynet.net/static/content/images/subscription_required_modal/unlimitededit.2jqf3b2p5-en2iaqxv6u_za2.png")),this.$f.set_item(4,new _e("community-search",Strings.resource_SubscriptionRequired_CommunityTitle,"https://app.cdn.skynet.net/static/content/images/subscription_required_modal/unlimited_search.2fgrocll6tr5btx9yecxaog2.png")),this.$f.set_item(5,new _e("assignany",Strings.resource_SubscriptionRequired_AssignAllTitle,"https://app.cdn.skynet.net/static/content/images/subscription_required_modal/unlimited_assignments.2qvbchrsprbawfugummz-yq2.png"))};ve.__typeName="VEL.Skynet.Global.Modals.SubscriptionRequiredModal",global.VEL.Skynet.Global.Modals.SubscriptionRequiredModal=ve;var ye=function(t){this.$e=null,ce.call(this,"prompt-modal","modal-size-medium"),this.$e=t};ye.__typeName="VEL.Skynet.Global.Modals.VideoModal",global.VEL.Skynet.Global.Modals.VideoModal=ye;var ke=function(t){this.$e=null,ce.call(this,"simple-modal","popup-info-modal-wrapper"),this.$e=t};ke.__typeName="VEL.Skynet.Global.Modals.WelcomeBackModal",global.VEL.Skynet.Global.Modals.WelcomeBackModal=ke;var Se=function(t,e,s,i){this.$g=null,this.$j=null,this.$h=null,this.$i=null,ce.call(this,"prompt-modal","modal-size-small"),this.$g=t,this.$j=e,this.$h=s,this.$i=i};Se.__typeName="VEL.Skynet.Global.Modals.YesNoModal",global.VEL.Skynet.Global.Modals.YesNoModal=Se;var we=function(){};we.__typeName="VEL.Skynet.Global.Modals.SharePages.$0";var Ce=function(t){var e=function(t){this.$0=null,this.$0=t};return ss.registerGenericClassInstance(e,Ce,[t],{get_$domObject:function(){return $(this.get_$selector())},get_$selector:null},function(){return null},function(){return[we]}),e};Ce.__typeName="VEL.Skynet.Global.Modals.SharePages.$1",ss.initGenericClass(Ce,t,1);var Ee=function(t){this.$u=null,this.$o=null,this.$s=null,this.$p=null,this.$r=null,this.$q=null,this.$h=null,this.$m=null,this.$k=null,this.$l=null,this.$t=null,this.$g=null,this.$i=null,this.$j=null,this.$n=null,Ie.call(this,t),this.$u=new O.$ctor1(".js-results-title");var e=new P(".js-register-radio",null);e.set_value(1),this.$o=e,this.$s=new p.$ctor1(".js-register-gc-options"),this.$p=new O.$ctor1(".js-register-radio-gc"),this.$r=new p.$ctor1(".js-register-gc-label"),this.$q=new p.$ctor1(".js-register-gc-cookie-consent-msg");var s=new P(".js-deadline-radio",null);s.set_value(0),this.$h=s,this.$i=new v(".js-deadline-date",null),this.$j=new I(".js-deadline-time",900,null);var i=new g.$ctor1(".js-gameover-review",null);i.set_isChecked(!0),this.$m=i;var n=new g.$ctor1(".js-gameover-leaderboard",null);n.set_isChecked(!1),this.$k=n;var o=new g.$ctor1(".js-gameover-restart",null);o.set_isChecked(!0),this.$l=o,this.$n=new O.$ctor1(".js-gc-max-points"),this.$t=new u.$ctor3(".js-next-start",ss.mkdel(this,this.$7),!0),t.startOnShareOrAssignment?this.$g=new u.$ctor3(this.get_$selector()+" .js-back-step",ss.mkdel(t,t.$e),!0):this.$g=new u.$ctor1(this.get_$selector()+" .js-back-step"),4===VEL.Skynet.Global.Server.Switches.getInteger(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.unifiedShareModal)&&this.$g.set_isVisible(!1),new p.$ctor1(".js-register-option-expt").set_isVisible(!GoogleClassroomDisabled),new p.$ctor1(".js-assignment-options").set_isVisible(!0),new u.$ctor3(".js-register-gc-cookie-consent-btn",function(){rt.openPreferencesModal()},!0),this.$c(),this.$4(),this.$a(),this.$6(),ss.isValue(this.$0.$j())&&1===this.$0.$j().get_homeworkType()&&(new p.$ctor1(".js-end-of-game").set_isVisible(!1),new p.$ctor1(".js-open-ended").set_isVisible(!0)),this.$5()};Ee.__typeName="VEL.Skynet.Global.Modals.SharePages.$10";var je=function(t,e,s,i){this.$2$1=null,this.$2$2=null,p.call(this,e),this.$6(t),this.$2(new g.$ctor2(this.get_domObject(),"input",ss.mkdel(this,function(){i(this)})));new u.$ctor4(this.get_domObject(),".js-edit-tag",ss.mkdel(this,function(){s(this)}))};je.__typeName="VEL.Skynet.Global.Modals.SharePages.$11";var Ve=function(t){this.$8=null,this.$9=null,this.$7=null,Ie.call(this,t),this.$8=new C(".js-email-link-form",null),ss.isValue(this.$0.$l())?this.$8.setByName("HomeworkGameId",this.$0.$l().HomeworkGameId.toString()):ss.isValue(this.$0.$j())&&this.$8.setByName("ActivityId",this.$0.$j().get_activityId().toString()),this.$7=new O.$ctor1(".js-email-addresses-input"),this.$7.onKeyDown(ss.mkdel(this,this.$1)),this.$9=new u.$ctor4(this.get_$domObject(),".js-send-email-button",ss.mkdel(this,this.$6));new u.$ctor4(this.get_$domObject(),".js-email-addresses-add-btn",ss.mkdel(this,this.$5))};Ve.__typeName="VEL.Skynet.Global.Modals.SharePages.$12";var Le=function(t,e,s){this.$a=0,this.$7=null,this.$c=null,this.$8=null,this.$b=null,this.$9=null,this.$6=null,Ie.call(this,t);var i=new p.$ctor1(".js-embed-loading"),n=new p.$ctor1(".js-embed-settings");i.set_isVisible(!0),n.set_isVisible(!1),this.$a=e,this.$7=new N.$ctor1(".js-embed-templates"),this.$c=new P("embed_type",ss.mkdel(this,function(){this.$3(null)})),this.$8=new I(".js-embed-language",null,ss.mkdel(this,function(t){this.$3(null)})),this.$b=new I(".js-embed-theme",null,ss.mkdel(this,function(t){this.$3(null)})),this.$6=new O.$ctor1(".js-embed-code-textarea"),this.$9=new p.$ctor1(".js-embed-preview-wrapper");new u.$ctor3(".js-copy-embed",ss.mkdel(this,this.$1),!0);2!==e&&3!==e||(this.$8.set_isVisible(!1),this.$8.get_label().set_isVisible(!1),this.$b.set_isVisible(!1),this.$b.get_label().set_isVisible(!1)),window.setTimeout(ss.mkdel(this,function(){this.$2(ss.mkdel(this,function(){this.$3(ss.mkdel(this,function(){i.set_isVisible(!1),n.set_isVisible(!0),this.$4(s)}))}))}),s?0:500)};Le.__typeName="VEL.Skynet.Global.Modals.SharePages.$13";var Oe=function(){};Oe.__typeName="VEL.Skynet.Global.Modals.SharePages.$14";var Ge=function(t){this.$4=!1,this.$6=null,this.$5=null,this.$3=null,Ie.call(this,t),this.$6=new O.$ctor3(this.get_$domObject(),".js-resource-title"),this.$6.set_value(t.$j().get_title()),this.$5=new u.$ctor4(this.get_$domObject(),".js-next-publish",ss.mkdel(this,this.$2)),this.$3=new De(this.get_$domObject(),t.$j().get_activityId()),new u.$ctor3(".js-step-resource-setup .js-feedback-banner button",function(){new se(2,25,null).open()},!0);var e=new u.$ctor4(this.get_$domObject(),".js-share-private",ss.mkdel(this,this.$1));t.startOnPublish?(new O.$ctor3(this.get_$domObject(),".js-share-title").set_text(Strings.share_Resource_Title),new u.$ctor4(this.get_$domObject(),".js-back-step",ss.mkdel(t,t.$e)).set_isVisible(!1),e.set_isVisible(!0)):t.startOnShareOrAssignment&&(new u.$ctor4(this.get_$domObject(),".js-back-step",ss.mkdel(t,t.$e)),e.set_isVisible(!0),e.addClass("cta-spacer"))};Ge.__typeName="VEL.Skynet.Global.Modals.SharePages.$15";var Ie=function(t){ss.makeGenericType(Ce,[be]).call(this,t)};Ie.__typeName="VEL.Skynet.Global.Modals.SharePages.$2";var Me=function(t,e){Ie.call(this,t),this.$1(),new _(this.get_$domObject(),e)};Me.__typeName="VEL.Skynet.Global.Modals.SharePages.$3";var xe=function(t,e,s){this.$4=null,this.$5=null,this.$6=null,this.$7=null,Ie.call(this,t),this.$4=e,this.$5=s,this.$6=new u.$ctor1(".js-view-gc-assignment-on-gc"),this.$7=new u.$ctor1(".js-view-gc-assignment-on-skynet"),this.$3()};xe.__typeName="VEL.Skynet.Global.Modals.SharePages.$4";var Ae=function(t,e,s,i){this.$j=null,this.$g=null,this.$k=null,this.$i=null,this.$d=null,this.$e=null,this.$f=null,this.$m=null,this.$h=null,this.$l=null,Ie.call(this,t),this.$j=e,this.$g=s,this.$k=i,this.$i=new H(".js-gc-course-select",null,null);var n=new P(".js-gc-assign-to-radio",null);n.set_value(0),this.$d=n,this.$e=new p.$ctor1(".js-gc-assign-to-student-list"),this.$f=new p.$ctor1(".js-gc-assign-to-student-no-students"),this.$m=new u.$ctor1(".js-gc-share-button"),this.$h=new u.$ctor1(this.get_$selector()+" .js-back-step"),this.$b(),this.$2()};Ae.__typeName="VEL.Skynet.Global.Modals.SharePages.$5",Ae.$0=function(t){return ss.isValue(t)&&0!==t.Unix?VEL.Skynet.Global.Extensions.DateTimeExtensions.fromUnix(t.Unix):null};var Te=function(t){Ie.call(this,t)};Te.__typeName="VEL.Skynet.Global.Modals.SharePages.$6";var Ne=function(t,e){Ie.call(this,t),new p.$ctor1(".js-qr-title").set_text(this.$2(t));var s=this.$1(t),i=L.create(s,null,null,null),n=new p.$ctor1(".js-qr-image");n.empty(),n.append(i),e&&new u.$ctor1(".js-back-step").set_isVisible(!0)};Ne.__typeName="VEL.Skynet.Global.Modals.SharePages.$7";var Pe=function(t,e){this.$3=!1,this.$5=null,this.$6=null,this.$4=null,Ie.call(this,t),new p.$ctor1(".js-share-or-homework-title").set_text(Strings.share_How_Title),new u.$ctor4(this.get_$domObject(),".js-share-multiple-public",ss.mkdel(this,this.$2)),new u.$ctor4(this.get_$domObject(),".js-share-multiple-private",ss.mkdel(this,this.$1)),this.$3=e};Pe.__typeName="VEL.Skynet.Global.Modals.SharePages.$8";var Be=function(t,e){this.$f=null,this.$g=0,Ie.call(this,t),this.$g=e;new u.$ctor4(this.get_$domObject(),".js-share-modal-by-email",ss.mkdel(this,this.$8));var s=new u.$ctor4(this.get_$domObject(),".js-share-modal-by-facebook",ss.mkdel(this,this.$a)),i=(new u.$ctor4(this.get_$domObject(),".js-share-modal-by-embed",ss.mkdel(this,this.$9)),new u.$ctor4(this.get_$domObject(),".js-share-modal-by-qr",ss.mkdel(this,this.$e)),new u.$ctor4(this.get_$domObject(),".js-share-modal-by-google",ss.mkdel(this,this.$b)),new u.$ctor4(this.get_$domObject(),".js-share-modal-by-pinterest",ss.mkdel(this,this.$d))),n=this.$7();new u.$ctor3(".js-step-public-resource-done .js-feedback-banner button",function(){new se(2,25,null).open()},!0),new u.$ctor3(".js-step-resource-done .js-feedback-banner button",function(){new se(2,25,null).open()},!0),new u.$ctor3(".js-step-assignment-done .js-feedback-banner button",function(){new se(2,26,null).open()},!0),null!=navigator.share&&ut.isPhoneSized()?n.set_isVisible(!0):(s.set_isVisible(!0),i.set_isVisible(0===ServerModel.regionalSocialMedia)),this.$f=new O.$ctor3(this.get_$domObject(),".js-share-link-input");new u.$ctor4(this.get_$domObject(),".js-share-link-copy",ss.mkdel(this.$f,this.$f.copy));var o=new u.$ctor4(this.get_$domObject(),".js-back-step",ss.mkdel(t,t.$e));2===e||3===e?this.$f.set_value(this.$0.$l().Url):(this.$f.set_value(X.getShortUrl(this.$0.$j().get_activityId(),!0)),this.$0.$j().get_isAuthor()?(new p.$ctor3(o.get_domObject(),".js-settings-text").set_isVisible(!0),new p.$ctor3(o.get_domObject(),".js-back-text").set_isVisible(!1)):o.set_isVisible(!1),this.$0.$j().get_hasCopyrightInfringement()&&(new p.$ctor1(".js-share-copyright").set_isVisible(!0),new p.$ctor1(".js-share-link").set_isVisible(!1),o.set_isVisible(!1),new p.$ctor1(".js-share-buttons").set_isVisible(!1)));ServerModel.isAuthor||this.$0.isAuthor||!ss.isNullOrUndefined(this.$0.$j())&&this.$0.$j().get_isAuthor()||o.set_isVisible(!1)};Be.__typeName="VEL.Skynet.Global.Modals.SharePages.$9";var De=function(t,e){this.$z=[],this.$m=[],this.$A=[],this.$t=!1,this.$y=null,this.$x=null,this.$w=null,this.$p=null,this.$l=null,this.$v=null,this.$n=null,this.$h=null,this.$j=null,this.$i=null,this.$o=null,this.$u=null,this.$r=null,this.$s=null,this.$q=null,this.$k=null,this.$g=0,p.$ctor2.call(this,t),this.$g=e,this.$p=new p.$ctor3(this.get_domObject(),".js-edit-wrapper"),this.$l=new p.$ctor3(this.get_domObject(),".js-add-wrapper"),this.$v=new p.$ctor3(this.get_domObject(),".js-remove-wrapper");new u.$ctor4(this.get_domObject(),".js-popup-inner",function(){});this.$n=new O.$ctor3(this.get_domObject(),".js-edit-input"),this.$h=new O.$ctor3(this.get_domObject(),".js-add-input");new u.$ctor4(this.get_domObject(),".js-popup-cancel",ss.mkdel(this,this.$c));this.$o=new u.$ctor4(this.get_domObject(),".js-edit-ok",ss.mkdel(this,this.$a));new u.$ctor4(this.get_domObject(),".js-edit-delete",ss.mkdel(this,this.$9));this.$i=new u.$ctor4(this.get_domObject(),".js-add-ok",null),this.$j=new p.$ctor3(this.get_domObject(),".js-add-title"),this.$u=new u.$ctor4(this.get_domObject(),".js-remove-ok",ss.mkdel(this,this.$d)),this.$r=new N.$ctor3(this.get_domObject(),".js-insert-tags"),this.$r.get_isEmpty()?this.$5():this.$1()};De.__typeName="VEL.Skynet.Global.Modals.SharePages.EditTagsSection",global.VEL.Skynet.Global.Modals.SharePages.EditTagsSection=De;var He=function(){};He.__typeName="VEL.Skynet.Global.Pages.IActivityPage",global.VEL.Skynet.Global.Pages.IActivityPage=He;var Ue=function(){};Ue.__typeName="VEL.Skynet.Global.Pages.IEditorPage",global.VEL.Skynet.Global.Pages.IEditorPage=Ue;var Re=function(){};Re.__typeName="VEL.Skynet.Global.Pages.IMyActivitiesPage",global.VEL.Skynet.Global.Pages.IMyActivitiesPage=Re;var Fe=function(){};Fe.__typeName="VEL.Skynet.Global.Pages.IMyItemsPage",global.VEL.Skynet.Global.Pages.IMyItemsPage=Fe;var qe=function(){};qe.__typeName="VEL.Skynet.Global.Pages.IMyResultsPage",global.VEL.Skynet.Global.Pages.IMyResultsPage=qe;var ze=function(){};ze.__typeName="VEL.Skynet.Global.Pages.IPlayPage",global.VEL.Skynet.Global.Pages.IPlayPage=ze;var We=function(){};We.__typeName="VEL.Skynet.Global.Pages.IResultPage",global.VEL.Skynet.Global.Pages.IResultPage=We;var Je=function(){};Je.__typeName="VEL.Skynet.Global.Pages.ModeEnum",global.VEL.Skynet.Global.Pages.ModeEnum=Je;var Ke=function(){this.$5=null,this.$8=null,this.$6=null,this.$9=null,this.$7=null,N.$ctor1.call(this,".js-context-menu"),this.$5=new c(ss.mkdel(this,this.$2)),this.$8=new u.$ctor4(this.get_domObject(),".js-open-item",null),this.$6=new u.$ctor4(this.get_domObject(),".js-share-link-copy",null),this.$9=new u.$ctor4(this.get_domObject(),".js-qr-code",null),this.$7=new u.$ctor4(this.get_domObject(),".js-delete-item",null)};Ke.__typeName="VEL.Skynet.Global.Panels.CurrentAssignmentContextMenu",global.VEL.Skynet.Global.Panels.CurrentAssignmentContextMenu=Ke,ss.initClass(e,t,{}),ss.initClass(s,t,{}),ss.initClass(i,t,{}),ss.initClass(n,t,{}),ss.initClass(o,t,{}),ss.initClass(p,t,{get_domObject:function(){return this.$1$1},set_domObject:function(t){this.$1$1=t},get_element:function(){return this.get_domObject().get(0)},get_html:function(){return this.get_domObject().html()},set_html:function(t){this.get_domObject().html(t)},get_text:function(){return this.get_domObject().text()},set_text:function(t){this.get_domObject().text(t)},onClick:function(t,e,s){ss.staticEquals(t,null)||this.onClick$1(null,function(e){t()},e,s)},onClick$1:function(t,e,s,i){ss.staticEquals(e,null)||this.get_domObject().on("click",t,function(t){s&&(t.ctrlKey||t.altKey||t.shiftKey)||(i&&(t.preventDefault(),t.stopPropagation()),e(t.currentTarget))})},onHover:function(t,e){ss.staticEquals(t,null)||this.get_domObject().on("mouseover",function(e){t()}),ss.staticEquals(e,null)||this.get_domObject().on("mouseout",function(t){e()})},offClick:function(){this.get_domObject().off("click")},onBlur:function(t){this.get_domObject().on("blur",function(e){e.preventDefault(),e.stopPropagation(),t()})},get_children:function(){return Enumerable.from(this.get_domObject().children().get()).select(function(t){return new p(t)}).toArray()},find:function(t){return function(e){return ss.cast(new t(this.get_domObject().find(e)),t)}},get_exists:function(){return this.get_domObject().length>0},empty:function(){this.get_domObject().empty()},get_isEmpty:function(){var t=this.get_domObject().text();return ss.isNullOrEmptyString(t.trim())},animate:function(t,e,s,i,n){var o={};o[t]=e,this.get_domObject().stop().animate(o,s,n,i)},focus:function(){this.get_domObject().focus()},fadeIn:function(t){this.set_isVisible(!0),this.get_domObject().fadeIn(t)},fadeOut:function(t){this.get_domObject().fadeOut(t),window.setTimeout(ss.mkdel(this,function(){this.set_isVisible(!1)}),t)},fadeInOut:function(t,e,s){this.fadeIn(t),window.setTimeout(ss.mkdel(this,function(){this.fadeOut(s)}),e+t)},remove:function(){this.get_domObject().remove(),this.set_domObject(null)},replaceWith:function(t){this.get_domObject().replaceWith(t)},get_isHighlighted:function(){return this.hasClass("highlighted")},set_isHighlighted:function(t){t?this.addClass("highlighted"):this.removeClass("highlighted")},get_isHovered:function(){return!(this.get_domObject().length<1)&&$(this.get_domObject()[0]).is(":hover")},get_isChecked:function(){return this.get_domObject().prop("checked")},set_isChecked:function(t){this.get_domObject().prop("checked",t)},getData:function(t,e,s){for(var i,n=this.get_domObject();;){if(i=n.attr("data-"+t),ss.isValue(i)||!1===s)break;if(n=n.parent(),ss.isNullOrUndefined(n)||0===n.length)break}return ss.isNullOrUndefined(i)?e:i},getDataAsInt:function(t,e,s){var i=this.getData(t,null,s),n={};return ss.Int32.tryParse(i,n)?n.$:e},getDataAsIntList:function(t,e){for(var s=this.getData(t,null,e).split(","),i=[],n={},o=0;o<s.length;o++){var l=s[o];ss.Int32.tryParse(l,n)&&i.push(n.$)}return i},getDataAsBool:function(t,e,s){var i=this.getData(t,null,s);return ss.isNullOrUndefined(i)?e:"true"===i.toLowerCase()},getAttribute:function(t){return this.get_domObject().attr(t)},getAttributeAsNullableInt:function(t){var e={};return ss.Int32.tryParse(this.getAttribute(t),e)?e.$:null},setAttribute:function(t,e){this.get_domObject().attr(t,ss.isValue(e)?e.toString():null)},removeAttribute:function(t){this.get_domObject().removeAttr(t)},addClass:function(t){this.get_domObject().addClass(t)},removeClass:function(t){this.get_domObject().removeClass(t)},hasClass:function(t){return this.get_domObject().hasClass(t)},height:function(){return this.get_domObject().height()},height$1:function(t){this.get_domObject().height(t)},width:function(){return this.get_domObject().width()},width$1:function(t){this.get_domObject().width(t)},width$2:function(t){this.get_domObject().width(t)},get_outerWidth:function(){return this.get_domObject().outerWidth(!0)},get_outerHeight:function(){return this.get_domObject().outerHeight(!0)},CSS:function(t,e){this.get_domObject().css(t,e)},CSS$1:function(t,e){this.get_domObject().css(t,e)},prepend:function(t){this.prepend$1(t.get_domObject())},prepend$1:function(t){this.get_domObject().prepend(t)},append:function(t){this.append$1(t.get_domObject())},append$1:function(t){this.get_domObject().append(t)},appendTo:function(t){this.get_domObject().appendTo(t.get_domObject())},insertAfter:function(t){this.get_domObject().insertAfter(t.get_domObject())},$0:function(t){this.get_domObject().prependTo(t.get_domObject())},attribute:function(t){return this.get_domObject().attr(t)},attribute$1:function(t,e){this.get_domObject().attr(t,e.toString())},get_isVisible:function(){return!this.hasClass("hidden")},set_isVisible:function(t){t?this.removeClass("hidden"):this.addClass("hidden")},get_isEnabled:function(){return!this.get_domObject().prop("disabled")},setEnable:function(t){t?this.enable():this.disable()},enable:function(){this.get_domObject().removeClass("unavailable"),this.get_domObject().prop("disabled",!1),this.get_domObject().prop("readonly",!1)},disable:function(){this.get_domObject().addClass("unavailable"),this.get_domObject().prop("disabled",!0),this.get_domObject().prop("readonly",!0)},slideUp:function(t,e){this.get_domObject().slideUp(t,e)},slideDown:function(t,e){this.get_domObject().slideDown(t,e)}}),p.$ctor1.prototype=p.$ctor2.prototype=p.$ctor3.prototype=p.$ctor4.prototype=p.prototype,ss.initClass(N,t,{contains:function(t){return 0!==this.get_domObject().find(t.get_domObject()).length},scrollIntoView:function(){this.$1||(this.$1=!0,i.scrollIntoView(this,0,ss.mkdel(this,function(){this.$1=!1})))},get_isAnyPartScrolledIntoView:function(){if(!this.get_exists())return!1;var t=$(window).scrollTop(),e=t+$(window).height(),s=this.get_domObject().offset().top,i=s+this.get_domObject().height();return s>t&&s<e||i>t&&i<e||s<=t&&i>=e}},p),N.$ctor1.prototype=N.$ctor3.prototype=N.$ctor2.prototype=N.prototype,ss.initClass(l,t,{$4:function(t){if(this.$9=new N.$ctor3(this.get_domObject(),".js-menu-dropdown"),this.$9.get_exists()){this.$8=new c.$ctor1(t,ss.mkdel(this,this.$3)),this.$a=new N.$ctor3(this.get_domObject(),".js-menu-inline"),this.$c=new u.$ctor4(this.get_domObject(),".js-menu-toggle",ss.mkdel(this,this.$6)),this.$7=new E.$ctor1(this.get_domObject(),".js-menu-toggle-icon"),this.$d=new p.$ctor3(this.get_domObject(),".js-more-separator"),$(window).on("resize",ss.mkdel(this,function(t){var e=$(window).width();this.$e!==e&&(this.$e=e,this.refresh())})),this.$b=[];for(var e=this.$a.get_domObject().find(".js-menu-item").get(),s=0;s<e.length;s++){var i=e[s],n=new p(i);this.$b.push(n),n.get_domObject().on("click",ss.mkdel(this,function(t){this.$3()}))}this.refresh()}},refresh:function(){if(this.$9.get_exists()){var t=ut.isPortraitPhoneSized();this.set_isVisible(!0),this.$3();var e=Enumerable.from(this.$b).where(function(e){return e.get_isVisible()&&!(t&&e.hasClass("hide-on-mobile"))}),s=e.where(function(t){return!t.hasClass("js-never-menu")&&!t.hasClass("js-always-menu")}),i=(e.count(function(t){return t.hasClass("js-never-menu")}),e.where(function(t){return t.hasClass("js-always-menu")})),n=e.any(function(t){return t.hasClass("js-always-menu")});this.$c.set_isVisible(n);var o=i.getEnumerator();try{for(;o.moveNext();){var l=o.current();this.$9.contains(l)||l.get_domObject().detach().appendTo(this.$9.get_domObject())}}finally{o.dispose()}var a=s.getEnumerator();try{for(;a.moveNext();){var r=a.current();this.$a.contains(r)||r.get_domObject().detach().appendTo(this.$a.get_domObject())}}finally{a.dispose()}var c=!this.$2();if(c){this.$c.set_isVisible(!0);var u=s.reverse().getEnumerator();try{for(;u.moveNext();){if(u.current().get_domObject().detach().prependTo(this.$9.get_domObject()),!(c=!this.$2()))break}}finally{u.dispose()}this.$d.set_isVisible(Enumerable.from(this.$a.get_children()).where(function(t){return t.hasClass("js-menu-item")}).any(function(t){return t.get_isVisible()}))}else this.$c.set_isVisible(n);this.set_isVisible(e.any(function(t){return t.get_isVisible()}))}},$2:function(){var t=this.$a.get_children().filter(function(t){return t.hasClass("js-menu-item")&&t.get_isVisible()});if(0===Enumerable.from(t).count())return!0;var e=Enumerable.from(t).first().get_domObject().position().top;return this.$c.get_isVisible()?e===this.$c.get_domObject().position().top:e===Enumerable.from(t).last().get_domObject().position().top},$6:function(){if(this.$9.get_isVisible())this.$3();else{this.$5();var t=this.$9.get_domObject(),e=t.offset().top+t.height()+20,s=window.scrollY+window.innerHeight;if(s<e){var i=window.scrollY+(e-s),n={};n.scrollTop=i,$("html,body").animate(n,250)}}},$3:function(){this.$8.fadeOut$1(),this.$7.removeClass("fa-chevron-up"),this.$7.addClass("fa-chevron-down"),this.$9.set_isVisible(!1)},$5:function(){this.$8.fadeIn$1(),this.$7.addClass("fa-chevron-up"),this.$7.removeClass("fa-chevron-down"),this.$9.set_isVisible(!0)}},N),ss.initClass(a,t,{info:function(t){var e=Math.ceil(Math.min(40*this.$6/this.$a,40));this.$1(e),this.$6++,this.$3=t},onAssetLoaded:function(t,e){var s=e>1?Math.ceil(Math.min(60*t/e,60)):0;s+=40,this.$1(s),this.$2=t},$0:function(){var t;this.$7>=100||(this.$7===this.$8?(t=0===this.$2?"pct_"+this.$7+"_log_"+this.$3:"pct_"+this.$7+"_assets_"+this.$2,e.event("loadingerror",t),this.$4.set_text(t)):(this.$8=this.$7,window.setTimeout(ss.mkdel(this,this.$0),15e3)))},$1:function(t){this.$7=t,this.$5.set_text(t+"%")}},null,[VEL.Skynet.Global.IActivityPreloader]),ss.initClass(r,t,{play$1:function(t,e){ss.isValue(e)&&this.setVolume(ss.unbox(e)),this.setSource(t),this.play()},play:function(){this.get_element().play()},pause:function(){this.get_element().pause()},stop:function(){this.pause(),this.seek(0)},seek:function(t){this.get_element().currentTime=t},setSource:function(t){this.stop(),this.$1.setAttribute("src",t),this.get_element().load()},setVolume:function(t){this.get_element().volume=t}},p),ss.initClass(u,t,{get_href:function(){return this.get_domObject().attr("href")},set_href:function(t){this.get_domObject().attr("href",t)},hasLoadingGif:function(){return this.get_domObject().hasClass("is-loading")},resetLoadingGif:function(){this.get_domObject().removeClass("is-loading"),this.get_domObject().find(".js-is-loading").remove(),this.get_domObject().css("color",""),this.get_domObject().prop("disabled",!1),window.setTimeout(ss.mkdel(this,function(){this.get_domObject().prop("disabled",!1)}),0)},addLoadingGif:function(){if(!this.get_domObject().hasClass("is-loading")){var t=this.get_domObject().hasClass("grey")||this.get_domObject().hasClass("white")||this.get_domObject().hasClass("red")?"#spinner_grey":"#spinner_blue",e=$(t).clone();e.addClass("js-is-loading"),e.removeClass("hidden"),this.get_domObject().addClass("is-loading");var s=this.get_domObject().width(),i=this.get_domObject().height();this.get_domObject().prepend(e),this.get_domObject().css("color","transparent"),this.get_domObject().width(s),this.get_domObject().height(i),window.setTimeout(ss.mkdel(this,function(){this.get_domObject().prop("disabled",!0)}),0)}}},p),u.$ctor1.prototype=u.$ctor4.prototype=u.$ctor3.prototype=u.$ctor2.prototype=u.prototype,ss.initClass(c,t,{fadeIn$1:function(){this.set_isVisible(!0),this.get_domObject().toggleClass("background-fader-visible",!0)},fadeOut$1:function(){this.get_domObject().toggleClass("background-fader-visible",!1)}},u),c.$ctor1.prototype=c.prototype,ss.initClass(h,t,{onClicks:function(t,e,s){ss.staticEquals(t,null)||this.get_domObject().on("click",ss.mkdel(this,function(i){if(!e||!(i.ctrlKey||i.altKey||i.shiftKey)){var n=$(i.target),o=Enumerable.from(this.$1).firstOrDefault(function(t){return t.get_domObject().is(n)||0!==t.get_domObject().find(n).length},ss.getDefaultValue(u));s&&(i.preventDefault(),i.stopPropagation()),ss.isValue(o)&&t(o)}}))},get:function(t){return this.$1[t]},getEach:function(){return this.$1},getOthers:function(t){return Enumerable.from(this.$1).where(function(e){return!t.get_domObject().is(e.get_domObject())})}},p),ss.initClass(d,t,{get_width:function(){return this.$0.width},set_width:function(t){this.$0.width=t},get_height:function(){return this.$0.height},set_height:function(t){this.$0.height=t},get_context:function(){return ss.cast(this.$0.getContext("2d"),CanvasRenderingContext2D)},getContext2D:function(t){return ss.cast(this.$0.getContext("2d",t),CanvasRenderingContext2D)},get_isReady:function(){return this.$0.clientWidth>0&&this.$0.clientHeight>0},normalize:function(){this.$0.width===this.$0.clientWidth&&this.$0.height===this.$0.clientHeight||(this.$0.width=this.$0.clientWidth,this.$0.height=this.$0.clientHeight)},on:function(t,e){$(this.$0).on(t,e)},addClass:function(t){this.$0.classList.add(t)},removeClass:function(t){this.$0.classList.contains(t)&&this.$0.classList.remove(t)},rotate:function(){var t=d.create();t.set_width(this.get_width()),t.set_height(this.get_height()),t.get_context().drawImage(this.$0,0,0),this.set_height(t.get_width()),this.set_width(t.get_height());var e=this.get_context();e.save(),e.translate(t.get_height(),0),e.rotate(Math.PI/2),e.drawImage(t.$0,0,0),e.restore()},flip:function(t){var e=d.create();e.set_width(this.get_width()),e.set_height(this.get_height()),e.get_context().drawImage(this.$0,0,0);var s=this.get_context();s.save(),t?(s.translate(e.get_width(),0),s.scale(-1,1)):(s.translate(0,e.get_height()),s.scale(1,-1)),s.drawImage(e.$0,0,0),s.restore()},getRect:function(){return this.$0.getBoundingClientRect()},crop:function(t,e,s,i){var n=d.create();n.set_width(this.get_width()),n.set_height(this.get_height()),n.get_context().drawImage(this.$0,0,0),this.set_width(s),this.set_height(i);var o=this.get_context();o.fillStyle="white",o.fillRect(0,0,s,i),o.drawImage(n.$0,t,e,s,i,0,0,s,i)},toBase64:function(){for(var t=this.get_context().getImageData(0,0,this.get_width(),this.get_height()).data,e=0;e<t.length;e+=12)if(t[e+3]<255){var s=this.$0.toDataURL("image/png",null);return s.substring(s.indexOf(String.fromCharCode(44))+1)}var i=this.$0.toDataURL("image/jpeg",null),n=this.$0.toDataURL("image/png",null),o=i.length<n.length?i:n;return o.substring(o.indexOf(String.fromCharCode(44))+1)}}),d.$ctor1.prototype=d.prototype,ss.initClass(g,t,{},u),g.$ctor2.prototype=g.$ctor1.prototype=g.prototype,ss.initClass(m,t,{setupShowFilters:function(){new u.$ctor3(".js-show-filters",ss.mkdel(this,function(){$(".js-filters").addClass("open"),$("#shell_faded_overlay").addClass("open"),new u.$ctor3("#shell_faded_overlay",ss.mkdel(this,this.$3),!0),$("body").css("overflow-y","hidden")}),!0)},$3:function(){$(".js-filters").removeClass("open"),$("#shell_faded_overlay").removeClass("open"),$("body").css("overflow-y","auto"),this.$a.setSelectedValues(this.$5),this.$8.setSelectedValues(this.$4)},$2:function(){this.$7.set_isVisible(Enumerable.from(this.$a.getSelectedCheckboxes()).any(function(t){return t.get_isEnabled()})||Enumerable.from(this.$8.getSelectedCheckboxes()).any(function(t){return t.get_isEnabled()})),this.$6.get_domObject().is(":visible")||this.$1()},$1:function(){this.$5=this.$a.getSelectedValues(),this.$4=this.$8.getSelectedValues(),this.$3(),this.$9(this.$5,this.$4)}},p),ss.initClass(f,t,{$1:function(){if(ss.isValue(this.$5)&&this.$5.each(ss.mkdel(this,function(t,e){var s=$(e);s.html(""),Enumerable.from(this.getSelectedCheckboxes()).any()?s.show():s.hide();var i=Enumerable.from(this.getSelectedCheckboxes()).where(function(t){return t.get_isEnabled()}).getEnumerator();try{for(;i.moveNext();){var n={$:i.current()},o=$("<span class='filter-tag' alt='remove filter'>"+n.$.get_domObject().parent().find("label").text()+" <span class='fa fa-times'></span></span>");s.append(o),new u(o[0]).onClick(ss.mkdel({selected:n,$this:this},function(){this.selected.$.set_isChecked(!1),this.$this.$4()}),!1,!0)}}finally{i.dispose()}})),this.$3.get_exists()){var t=Enumerable.from(this.getSelectedCheckboxes()).count();this.$3.CSS$1("display",0===t?"":"inline-block"),this.$3.set_text(t.toString())}},getSelectedCheckboxes:function(){return Enumerable.from(this.$2).where(function(t){return t.get_isChecked()})},getSelectedValues:function(){return Enumerable.from(this.getSelectedCheckboxes()).select(function(t){return t.get_domObject().val()}).toArray()},setSelectedValues:function(t){for(var e=0;e<this.$2.length;e++){var s=this.$2[e];s.set_isChecked(Enumerable.from(t).contains(s.get_domObject().val()))}this.$1()},uncheckAll:function(){var t=Enumerable.from(this.$2).where(function(t){return t.get_isEnabled()}).getEnumerator();try{for(;t.moveNext();){t.current().set_isChecked(!1)}}finally{t.dispose()}this.$1()}},p),ss.initClass(b,t,{get:function(t){return this.$1[t]},getEach:function(){return this.$1},getOthers:function(t){return Enumerable.from(this.$1).where(function(e){return!t.get_domObject().is(e.get_domObject())})},set_areVisible:function(t){for(var e=0;e<this.$1.length;e++){this.$1[e].set_isVisible(t)}},get_length:function(){return this.$1.length}},p),b.$ctor1.prototype=b.prototype,ss.initClass(_,t,{$6:function(){this.$b=this.get_domObject().find(".js-current-assignments-table tbody").first(),this.$e=this.get_domObject().find(".js-current-assignments-container-mobile").first();for(var t=0;t<this.$d.length;t++){var e=this.$d[t],s=this.$4(e);this.$b.append(s);var i=this.$3(e);this.$e.append(i)}},$3:function(t){var e=this.$5(t,!0);return new u.$ctor4(e,".js-item-menu",null).get_domObject().on("click",ss.mkdel(this,function(e){this.$9(e,t)})),e},$4:function(t){var e=this.$5(t,!1),s=function(){new zt(t.PlayUrl).open()};new u.$ctor4(e,".js-share-link-copy",s),new u.$ctor4(e,".js-share-link-copy-active",s),new u.$ctor4(e,".js-qr-code",ss.mkdel(this,function(){this.$a(t.HomeworkGameId)})),new u.$ctor4(e,".js-delete-item",ss.mkdel(this,function(){this.$7(t.HomeworkGameId)}));return e},$5:function(t,e){var s=ss.isNullOrEmptyString(t.Deadline.Readable)?Strings.result_NoDeadline:t.Deadline.Readable,i=e?"current_assignment_mobile":"current_assignment",n=ss.htmlEncode(t.Title);return mt.buildTemplate(i,[n,t.NumberOfPlayers,t.Modified.Readable,s,t.ResultsUrl])},$9:function(t,e){var s=t.currentTarget.getBoundingClientRect(),i=ut.isRTL(),n=i?ss.Int32.trunc(s.left)-4:ss.Int32.trunc(s.right)+4,o=ss.Int32.trunc(s.top),l=ss.mkdel(this,function(){this.$8(e)}),a=ss.mkdel(this,function(){lt.copyToClipboard(e.PlayUrl,this.get_domObject())}),r=ss.mkdel(this,function(){this.$a(e.HomeworkGameId)}),c=ss.mkdel(this,function(){this.$2(e.HomeworkGameId)});this.$c.open(l,a,r,c,n,o,i),t.preventDefault(),t.stopPropagation()},$8:function(t){window.location.href=t.ResultsUrl},$a:function(t){be.openAsQr(t)},$7:function(t){new Se(Strings.share_Assignment_SureToDelete,ss.mkdel(this,function(){this.$2(t)}),null,null).open()},$2:function(t){var e="/myresultsajax/deletehomework?homeworkGameId="+t;$.ajax({type:"GET",url:e,error:tt.networkErrorAndReload,success:ss.mkdel(this,function(e,i,n){if(tt.isFail(e))tt.error(null);else if(ss.isValue(s.activityPage))s.activityPage.updateAssignments();else{var o=Enumerable.from(this.$d).indexOf(function(e){return e.HomeworkGameId===t});ss.removeAt(this.$d,o),this.$b.children()[o].remove(),this.$e.children()[o].remove()}})})},$1:function(t){$(".js-share-link-copy",this.get_domObject()).show(),$(".js-share-link-copy-active",this.get_domObject()).hide(),$(".js-share-link-copy",t).hide(),$(".js-share-link-copy-active",t).show()}},p),ss.initClass(O,t,{get_isEmpty:function(){return 0===this.get_domObject().length||0===this.get_value().length},get_value:function(){return this.get_domObject().val()},set_value:function(t){this.get_domObject().val(t)},get_maxLength:function(){var t=this.get_domObject().attr("maxlength");return ss.isNullOrEmptyString(t)?null:parseInt(t)},set_maxLength:function(t){ss.isNullOrUndefined(t)?this.get_domObject().removeAttr("maxlength"):this.get_domObject().attr("maxlength",ss.unbox(t).toString())},blur:function(){this.get_domObject().blur()},selectEnd:function(){if(!window.matchMedia("(pointer: coarse)").matches){var t=this.get_value();this.set_value(""),this.focus(),this.set_value(t)}},selectAll:function(){this.get_domObject().get(0).tagName.toLowerCase(),this.get_domObject().select()},get_files:function(){var t=this.get_element();return ss.cast(t,ss.isValue(t)&&ss.isInstanceOfType(t,Element)&&"INPUT"===t.tagName).files},setAccepts:function(t){this.get_domObject().attr("accepts",t.join(","))},onEnter:function(t){this.get_domObject().on("keydown",function(t){13!==t.keyCode&&13!==t.which||(t.preventDefault(),t.stopPropagation())}),this.get_domObject().on("keyup",function(e){13!==e.keyCode&&13!==e.which||(e.preventDefault(),e.stopPropagation(),t())})},onKeyUp:function(t){this.get_domObject().on("keyup",function(e){t(e.keyCode)||(e.stopPropagation(),e.preventDefault())})},onKeyDown:function(t){this.get_domObject().on("keydown",function(e){t(e.keyCode)||(e.stopPropagation(),e.preventDefault())})},onChange:function(t,e){this.get_domObject().on(e?"change input":"change",function(e){t()})},offChange:function(){this.get_domObject().off("change input")},setEnable$1:function(t){t?this.enable$1():this.disable$1()},enable$1:function(){this.get_domObject().removeClass("unavailable"),this.get_domObject().prop("disabled",!1),this.get_domObject().prop("readonly",!1)},disable$1:function(){this.get_domObject().addClass("unavailable"),this.get_domObject().prop("disabled",!0),this.get_domObject().prop("readonly",!0)},copy:function(){this.selectAll(),document.execCommand("copy")},get_hasValidationError:function(){return this.hasClass("invalid")},setupValidation:function(t,e,s,i){if(this.get_exists()){if(e){if(ss.staticEquals(t,null))throw new ss.ArgumentException;this.$7=ss.mkdel(this,function(){this.$2(),t()})}else this.$7=t||ss.mkdel(this,this.$2);this.$5=new p.$ctor2(this.get_domObject().siblings(".js-validation-icon-wrapper").first()),this.$4=new p.$ctor2(this.$5.get_domObject().find(".js-validation-icon")),this.$6=new p.$ctor2(this.$5.get_domObject().find(".js-validation-optional"));var n=0,o=this.get_value();this.get_domObject().on("input",ss.mkdel(this,function(t){this.get_domObject().removeAttr("data-input-is-valid")}));var l=this.get_domObject().attr("type"),a="file"===l||"hidden"===l?"change":"input";this.get_domObject().on(a,ss.mkdel(this,function(t){var e=this.getAttribute("data-input-is-valid"),i=ss.isValue(e)&&"true"===e.toLowerCase();ss.referenceEquals(this.get_value(),o)||i||(o=this.get_value(),this.validate(3),0!==n&&window.clearTimeout(n),ss.staticEquals(s,null)||s(),n=window.setTimeout(this.$7,500))})),ss.staticEquals(s,null)||s(),i&&this.$7()}},configureDoubleInput:function(t,e){this.onChange(ss.mkdel({value:{},$this:this},function(){ss.tryParseFloat(this.$this.get_value(),this.value)&&e(this.value.$)}),!1),this.set_value(t.toString())},$2:function(){var t=this.get_value().length;t>50?this.validate(2):t>0?this.validate(1):this.validate(3)},validate:function(t){switch(t){case 0:this.$7();break;case 1:this.removeClass("invalid"),this.addClass("valid"),this.$4.addClass("valid"),this.$4.removeClass("invalid"),this.$4.addClass("fa-circle-check"),this.$4.removeClass("fa-xmark"),this.$3(),this.$4.set_isVisible(!0),this.$6.set_isVisible(!1);break;case 2:this.removeClass("valid"),this.addClass("invalid"),this.$4.removeClass("valid"),this.$4.addClass("invalid"),this.$4.removeClass("fa-circle-check"),this.$4.addClass("fa-xmark"),this.$3(),this.$4.set_isVisible(!0);break;case 4:this.$3(),this.removeClass("invalid"),this.removeClass("valid"),this.$4.removeClass("valid"),this.$4.removeClass("invalid"),this.$4.addClass("fa-circle-check"),this.$4.removeClass("fa-xmark"),this.$4.set_isVisible(!0),this.$6.set_isVisible(!0);break;case 3:this.get_domObject().length>0&&!ss.isNullOrEmptyString(this.get_value())?(this.$4.set_isVisible(!1),this.removeClass("invalid"),this.removeClass("valid"),this.$4.removeClass("valid"),this.$4.removeClass("invalid"),this.$4.addClass("fa-circle-check"),this.$4.removeClass("fa-xmark"),this.$1()):this.validate(4)}},$3:function(){this.$5.get_domObject().find(".js-loading-gif").remove()},$1:function(){0===this.$5.get_domObject().find(".js-loading-gif").length&&this.$5.get_domObject().append("<span class='js-loading-gif'><img src='https://skynetsites.github.io/perguntas-torta-na-cara/static/content/images/input_loading.gif'></span>")},setReadonly:function(t){this.get_domObject().prop("readonly",t)}},p),O.$ctor2.prototype=O.$ctor1.prototype=O.$ctor3.prototype=O.$ctor4.prototype=O.$ctor5.prototype=O.prototype,ss.initClass(v,t,{$8:function(){$(document).find("#ui-datepicker-div").addClass("notranslate")}},O),ss.initEnum(y,t,{none:0,ok:1,blocked:2}),ss.initClass(k,t,{get_status:function(){return this.$5},set_status:function(t){if(this.$5!==t)switch(this.$5=t,t){case 0:this.$4.set_isVisible(!1),this.$1.set_isVisible(!1);break;case 1:this.$4.set_isVisible(!0),this.$1.set_isVisible(!1);break;case 2:this.$4.set_isVisible(!1),this.$1.set_isVisible(!0)}},setPosition:function(t,e){this.$6=t,this.$7=e,this.CSS("left",t+12),this.CSS("top",e+12)},hasMoved:function(t,e){return(this.$6-t)*(this.$6-t)+(this.$7-e)*(this.$7-e)>20},setItemName:function(t){this.$3.set_text(t)},setItemImage:function(t){this.$2.get_domObject().attr("src",t)}},p),ss.initClass(S,t,{$1:function(){this.$3.removeClass("open"),this.$4.get_domObject().hide(),this.$5.get_domObject().show()},$2:function(){this.$3.addClass("open"),this.$4.get_domObject().show(),this.$5.get_domObject().hide()}},p),ss.initClass(w,t,{},p),ss.initClass(C,t,{submitByAjax:function(t,e){$.ajax({url:this.$1,type:"POST",data:this.serialize(),success:function(e,s,i){ss.staticEquals(t,null)||t(e)},error:function(t,s,i){ss.staticEquals(e,null)||e()}})},submit:function(){this.get_domObject().submit()},serialize:function(){return this.get_domObject().serialize()},getFormData:function(){return Enumerable.from(this.get_domObject().serializeArray()).toObject(function(t){return t.name},function(t){return t.value.toString()})},setByName:function(t,e){$("input[name="+t+"]").val(e)},onSubmit:function(t,e){ss.staticEquals(t,null)||this.get_domObject().on("submit",ss.mkdel(this,function(s){e&&(s.preventDefault(),s.stopPropagation()),t(this)}))}},p),ss.initClass(E,t,{},p),E.$ctor1.prototype=E.prototype,ss.initClass(j,t,{get_src:function(){return this.get_domObject().attr("src")},set_src:function(t){this.get_domObject().attr("src",t)},print:function(){this.focus(),this.$1.contentWindow.print()}},p),ss.initInterface(V,t,{onMouseEnter:null,onMouseLeave:null}),ss.initClass(L,t,{get_src:function(){return this.$2.src},set_src:function(t){this.$2.src=t},get_isPortrait:function(){return this.$2.width<this.$2.height},convertToBase64:function(t,e){if(ss.isValue(e)&&ss.unbox(e)<=0)throw new ss.ArgumentException(e+" is not a valid value. It must be positive.","maxImageSize");var s=ss.isNullOrUndefined(e)?200:ss.unbox(e);return this.$1(t,s).toBase64()},copyToCanvas:function(t){t.set_width(this.$2.naturalWidth),t.set_height(this.$2.naturalHeight),t.get_context().drawImage(this.$2,0,0)},$1:function(t,e){var s=d.create();if(t>e){var i=Math.sqrt(t/e);s.set_width(ss.Int32.trunc(this.$2.naturalWidth/i)),s.set_height(ss.Int32.trunc(this.$2.naturalHeight/i))}else s.set_width(this.$2.naturalWidth),s.set_height(this.$2.naturalHeight);return s.get_context().drawImage(this.$2,0,0,this.$2.naturalWidth,this.$2.naturalHeight,0,0,s.get_width(),s.get_height()),s}},p),L.$ctor1.prototype=L.prototype,ss.initClass(G,t,{get:function(t){return this.$1[t]},getEach:function(){return this.$1}},p),ss.initClass(I,t,{onChange:function(t){this.$2=t,this.get_domObject().on("change",ss.mkdel(this,function(t){this.$2(this.get_value())}))},offChange:function(){this.$2=null,this.get_domObject().off("change")},filterVisibleOptions:function(t){var e=Enumerable.from(t).select(function(t){return t.toString()}).toArray();this.get_domObject().children().each(function(t,s){s.hidden=!ss.contains(e,s.getAttribute("value"))})},get_value:function(){return parseInt(this.get_domObject().val())},set_value:function(t){var e=t.toString();ss.referenceEquals(e,this.get_domObject().val())||(this.get_domObject().val(e),ss.staticEquals(this.$2,null)||this.$2(t))}},ss.makeGenericType(B,[ss.Int32])),ss.initClass(M,t,{},u),ss.initClass(x,t,{get_intValue:function(){var t={$:ss.coalesce(this.$8,0)};return ss.Int32.tryParse(this.get_value(),t),t.$},set_intValue:function(t){this.set_value(VEL.Skynet.Global.Extensions.NumberExtensions.clamp(t,this.$a,this.$9).toString())}},O),ss.initEnum(A,t,{name$1:0,lastPlayed:1,modified:2,created:3,deadline:4,plays:5}),ss.initClass(T,t,{get_canToggle:function(){return this.$3$1},set_canToggle:function(t){this.$3$1=t},get_ascending:function(){return this.$4.hasClass("fa-sort-up")},set_ascending:function(t){t?(this.$4.addClass("fa-sort-up"),this.$4.removeClass("fa-sort-down")):(this.$4.addClass("fa-sort-down"),this.$4.removeClass("fa-sort-up"))},get_selected:function(){return this.get_domObject().hasClass("is-selected")},set_selected:function(t){this.$3(!t),t?(this.get_domObject().addClass("is-selected"),this.$4.removeClass("transparent")):(this.get_domObject().removeClass("is-selected"),this.$4.addClass("transparent"))},$1:function(){this.get_selected()&&!this.get_canToggle()||this.$6(this.$5,this.get_selected()?!this.get_ascending():this.get_ascending())},$2:function(){return this.$4.hasClass("transparent")},$3:function(t){t?this.$4.addClass("transparent"):this.$4.removeClass("transparent")}},u),ss.initClass(P,t,{onChange:function(t){this.get_domObject().on("change",function(e){t()})},offChange:function(){this.get_domObject().off("change")},get_value:function(){return parseInt($(P.$0(this.$1)+":checked").val())},set_value:function(t){$(P.$0(this.$1)+"[value="+t+"]").prop("checked",!0)},get_inputs:function(){return Enumerable.from($(P.$0(this.$1)).get()).select(function(t){return $(t)}).toArray()}},u),P.$ctor1.prototype=P.prototype,ss.initClass(D,t,{add_shareNative:function(t){this.$1$1=ss.delegateCombine(this.$1$1,t)},remove_shareNative:function(t){this.$1$1=ss.delegateRemove(this.$1$1,t)},$3:function(){D.$2(this.$7,this.$1$1)},add_shareByFacebook:function(t){this.$1$2=ss.delegateCombine(this.$1$2,t)},remove_shareByFacebook:function(t){this.$1$2=ss.delegateRemove(this.$1$2,t)},$1:function(){D.$2(this.$5,this.$1$2)},add_shareByPinterest:function(t){this.$1$3=ss.delegateCombine(this.$1$3,t)},remove_shareByPinterest:function(t){this.$1$3=ss.delegateRemove(this.$1$3,t)},$2:function(){D.$2(this.$6,this.$1$3)},add_shareByEmbed:function(t){this.$1$4=ss.delegateCombine(this.$1$4,t)},remove_shareByEmbed:function(t){this.$1$4=ss.delegateRemove(this.$1$4,t)},$0:function(){D.$2(this.$4,this.$1$4)}}),ss.initClass(H,t,{onChange:function(t){this.$2=t,this.get_domObject().on("change",ss.mkdel(this,function(t){this.$2(this.get_value())}))},offChange:function(){this.$2=null,this.get_domObject().off("change")},filterVisibleOptions:function(t){this.get_domObject().children().each(function(e,s){s.hidden=!ss.contains(t,s.getAttribute("value"))})},get_value:function(){return this.get_domObject().val()},set_value:function(t){ss.referenceEquals(t,this.get_domObject().val())||(this.get_domObject().val(t),ss.staticEquals(this.$2,null)||this.$2(t))}},ss.makeGenericType(B,[String])),ss.initEnum(U,t,{initialize:0,pass:1,fail:2,reset:3,clear:4}),ss.initClass(F,t,{get_info:function(){return this.$3$1},set_info:function(t){this.$3$1=t},setupDragAndDrop:function(t){this.get_domObject().on("mouseenter",ss.mkdel(this,function(e){t.onMouseEnter(this)})),this.get_domObject().on("mouseleave",ss.mkdel(this,function(e){t.onMouseLeave(this)}))},showDropOver:function(){this.addClass("drop-over")},hideDropOver:function(){this.removeClass("drop-over")}},u),ss.initClass(R,t,{},F),ss.initClass(q,t,{setMode:function(t){if(t!==this.$5){var e=ss.isNullOrUndefined(this.$5)&&ss.isNullOrUndefined(ServerModel.folderIds);this.$5=t,(1===this.$5||2===this.$5||e)&&this.$2()}},addFolders:function(t){this.$2();for(var e=0;e<t.length;e++){var s=t[e];z.create(this.$6,this,s)}},$2:function(){this.empty(),1===this.$5?(R.create(this.$6,this),K.create(this)):2===this.$5?(R.create(this.$6,this),J.create(this)):3===this.$5?W.create(this.$6,this,this.$3,ServerModel.authorUsername):0===this.$5&&W.create(this.$6,this,this.$3,this.$4)}},N),ss.initClass(z,t,{},F),ss.initClass(W,t,{},F),ss.initClass(J,t,{},F),ss.initClass(K,t,{},F),ss.initClass(Q,t,{}),ss.initEnum(Y,t,{all:0,custom:1,necessary:2}),ss.initClass(X,t,{}),ss.initClass(Z,t,{}),ss.initClass(tt,t,{}),ss.initClass(et,t,{}),ss.initClass(st,t,{}),ss.initClass(it,t,{}),ss.initClass(nt,t,{}),ss.initClass(ot,t,{}),ss.initClass(lt,t,{}),ss.initClass(at,t,{}),ss.initClass(rt,t,{}),ss.initClass(ct,t,{}),ss.initClass(ut,t,{}),ss.initClass(ht,t,{}),ss.initClass(dt,t,{}),ss.initClass($t,t,{reportGoogleClassroomError:function(t,e,s){this.reportError(t,e+": "+gt.exceptionToLogErrorMessage(s))},reportError$1:function(t,e,s){this.reportError(t,e+": "+s.get_message())},reportError:function(t,s){i.displayErrorMessage(t,!0,5e3),e.error(this.$0,s,null)}}),ss.initClass(gt,t,{}),ss.initClass(mt,t,{toString$1:function(t){return ss.isValue(t)&&0!==t.length?ss.formatString.apply(null,[this.$2].concat(t)):ss.isValue(this.$1)&&0!==this.$1.length?ss.formatString.apply(null,[this.$2].concat(this.$1)):this.$2},build:function(t){return $(this.toString$1(t))},$0:function(t){if(-1===t.indexOf("data-template"))return t;for(var e=$(t),s=e.find("div[data-template]").get(),i=0;i<s.length;i++){var n=s[i],o=n.getAttribute("data-template"),l=mt.buildTemplate(o,[]);$(n).first().replaceWith(l)}return e.get(0).outerHTML}}),ss.initClass(ft,t,{}),ss.initClass(pt,t,{}),ss.initClass(bt,t,{}),ss.initClass(_t,t,{show:function(t){var e=this.$0.build([t]);e.find(".js-banner-dismiss").on("click",function(t){e.remove()}),this.$1.append$1(e),window.setTimeout(function(){e.remove()},5e3)}}),ss.initClass(vt,t,{}),ss.initClass(yt,t,{}),ss.initClass(kt,t,{}),ss.initClass(St,t,{}),ss.initClass(wt,t,{}),ss.initClass(Ct,t,{setStep:function(t,e,s){},getStep:function(){return null}}),ss.initClass(Et,t,{}),ss.initClass(jt,t,{isBrowserAccepted:function(){return ss.isValue(this.$1)},getCurrentUserState:function(){return ss.Task.fromPromise(this.$1.getCurrentUserState(),0)},signIn:function(t){return this.$0(t,!1)},forceSignIn:function(t){return this.$0(t,!0)},$0:function(t,e){var s,i,n=0,o=new ss.TaskCompletionSource,l=ss.mkdel(this,function(){try{t:for(;;)switch(n){case 0:return n=-1,e?(s=ss.Task.fromPromise(this.$1.forceSignIn(),0),n=1,void s.continueWith(l)):(i=ss.Task.fromPromise(this.$1.signIn(),0),n=2,void i.continueWith(l));case 1:return n=-1,void o.setResult(s.getAwaitedResult());case 2:return n=-1,void o.setResult(i.getAwaitedResult());default:break t}}catch(t){o.setException(ss.Exception.wrap(t))}});return l(),o.task},signOut:function(){return ss.Task.fromPromise(this.$1.signOut())},listMyTeacherCourses:function(){return ss.Task.fromPromise(this.$1.listMyTeacherCourses(),0)},listCourseStudents:function(t){return ss.Task.fromPromise(this.$1.listCourseStudents(t),0)},createCourseWork:function(t,e){return ss.Task.fromPromise(this.$1.createCourseWork(t,e),0)},publishCourseWork:function(t,e){return ss.Task.fromPromise(this.$1.publishCourseWork(t,e),0)},listCourseWorkStudentSubmissions:function(t,e){return ss.Task.fromPromise(this.$1.listCourseWorkStudentSubmissions(t,e),0)},getMyCourseWorkStudentSubmission:function(t,e){return ss.Task.fromPromise(this.$1.getMyCourseWorkStudentSubmission(t,e),0)},turnInStudentSubmission:function(t,e,s){return ss.Task.fromPromise(this.$1.turnInStudentSubmission(t,e,s))},uploadDraftScores:function(t){return ss.Task.fromPromise(this.$1.uploadDraftScores(t))}}),ss.initClass(Vt,t,{}),ss.initClass(Lt,t,{}),ss.initClass(Ot,t,{}),ss.initClass(Gt,t,{}),ss.initClass(It,t,{}),ss.initClass(Mt,t,{}),ss.initClass(xt,t,{}),ss.initClass(At,t,{}),ss.initClass(Tt,t,{}),ss.initClass(Nt,t,{}),ss.initClass(Pt,t,{}),ss.initClass(Bt,t,{}),ss.initClass(Dt,t,{}),ss.initClass(Ht,t,{}),ss.initClass(Ut,t,{}),ss.initClass(Rt,t,{}),ss.initEnum(Ft,t,{$3:0,$2:1,$0:2,$1:3}),ss.initClass(ce,t,{get_domObject:function(){return this.$c.get_domObject()},open:function(){ce.closeActiveModal(),ce.$0=this,this.$a=!0,i.hideMessage(),this.$c=new p.$ctor1(".js-modal-view-wrapper"),this.$1=new p.$ctor1(".js-modal-view-bg"),this.$b=new N.$ctor1(".js-modal-view"),this.$1.onClick(ss.mkdel(this,this.onBackgroundOrCloseButtonClick),!1,!0);var t=mt.buildTemplate("modal_template",[this.$4,this.$d]);this.$b.append$1(t),this.$b.width$2(""),this.$8=new N.$ctor1(".js-modal-view-box"),this.$3=new N.$ctor1(".js-modal-content"),this.$6=new p.$ctor1(".js-modal-header"),this.$7=new p.$ctor1(".js-modal-header-text"),this.$5=new p.$ctor1(".js-modal-footer-wrapper"),this.hideHeader(),this.initialize();new u.$ctor3(".js-close-modal-view",ss.mkdel(this,this.onBackgroundOrCloseButtonClick),!0);Enumerable.from(this.$2).any()&&this.$5.append$1($("<div class='clear'></div>")),window.requestAnimationFrame(ss.mkdel(this,function(t){this.resize()})),ServerModel.isEmbed||$("body").css("overflow","hidden"),c.forceHide(),this.$c.fadeIn(250)},initialize:null,onClose:function(){},onBackgroundOrCloseButtonClick:function(){this.closeModal()},closeModal:function(){ss.isNullOrUndefined(ce.$0)||(this.onClose(),ce.$0=null,this.$a=!1,this.$b.empty(),this.$1.offClick(),this.$c.set_isVisible(!1),ServerModel.isEmbed||$("body").css("overflow","auto"),$(window).trigger("resize"))},setContent:function(t){var e=$("<div>"+t+"</div>");return this.$0(e),e},$0:function(t){if(this.$3.empty(),this.$3.append$1(t),!ss.isInstanceOfType(this,de)){var e=$(".js-modal-content h1"),s=e.text();ss.isNullOrEmptyString(s)||(e.remove(),this.setHeader(s))}},setHeader:function(t){this.$7.set_html(t),this.$7.set_isVisible(!0)},hideHeader:function(){this.$7.set_isVisible(!1)},hideHeaderAndClose:function(){this.$6.set_isVisible(!1)},addTemplateToModal:function(t,e){var s=mt.buildTemplate(t,e);this.$0(s)},addButton:function(t,e,s){var i=new M(t,e,s);return this.$2.push(i),this.$5.append$1(i.get_domObject()),i},centerModalButtons:function(){this.$5.CSS$1("text-align","center");var t=$(".js-modal-footer-wrapper button");t.css("float","none"),t.css("margin-left","4px"),t.css("margin-right","4px")},resize:function(){if(this.$a){var t=Math.max(250,$(window).height()),e=ss.Int32.trunc(.94*t);if(this.$b.CSS("max-height",e),!this.noMaxHeight){var s=t<500?10:100,i=this.$b.height()-this.$6.get_outerHeight()-this.$5.height()-s;this.$3.CSS("max-height",i)}var n=Math.min(e,this.$8.get_outerHeight()),o=ss.Int32.trunc((t-n)/2.5);this.$b.CSS("top",o),this.$9||this.$b.animate("opacity",1,250,ss.mkdel(this,function(){this.$9=!1}),null),this.$9=!0}}}),ss.initClass(qt,t,{initialize:function(){var t="/feedback/aigeneration/"+this.$g+"?referer="+encodeURIComponent(window.location.href)+"&templateId="+ServerModel.templateId;ss.isValue(this.$e)&&(t+="&assistClicks="+this.$e);var e=this.setContent("<iframe src='"+t+"' frameBorder='0'></iframe>").find("iframe");e.on("load",ss.mkdel(this,function(t){if("about:blank"!==e.get(0).contentWindow.location.href.toLowerCase()){var s=e.get(0);ss.cast(s,ss.isValue(s)&&ss.isInstanceOfType(s,Element)&&"IFRAME"===s.tagName).contentDocument.getElementsByClassName("js-ok-button")[0].addEventListener("click",ss.mkdel(this,function(t){new p.$ctor1(this.$f).set_isVisible(!1)}))}else this.closeModal()}))}},ce),ss.initClass(Kt,t,{get_templateId:null,initialize:function(){this.addTemplateToModal(this.get_templateId(),[]),this.$h=new O.$ctor1(".copylink-modal .js-input-text"),this.$h.set_value(this.$i),this.$g=new u.$ctor3(".copylink-modal .js-copy-button",ss.mkdel(this,this.$e),!0),this.$f=new u.$ctor3(".copylink-modal .js-copy-button-activated",ss.mkdel(this,this.$e),!0)},$e:function(){this.$h.copy(),this.$g.set_isVisible(!1),this.$f.set_isVisible(!0)}},ce),ss.initClass(zt,t,{get_templateId:function(){return"assignmentlink_modal_template"}},Kt),ss.initClass(Wt,t,{initialize:function(){this.setHeader(this.$g),this.addTemplateToModal("cancel_confirm_modal",[]),this.addButton(Strings.account_ManagePayments_ConfirmCancellation,ss.mkdel(this,this.$f),"medium white focusable js-yes-button"),this.addButton(Strings.account_ManagePayments_StayOnPlan,ss.mkdel(this,this.$e),"focusable js-no-button"),this.centerModalButtons(),$(".js-no-button").focus()},$f:function(){this.closeModal(),this.$i()},$e:function(){this.closeModal(),this.$h()}},ce),ss.initClass(Jt,t,{initialize:function(){this.addTemplateToModal("cancel_modal_template",[]),this.centerModalButtons();var t=new P("CancelOption",null);t.onClick(ss.mkdel(this,function(){this.$e(t.get_value())}),!1,!1)},$e:function(t){this.$g=t,this.addTemplateToModal("cancel_modal_reason_template",[]);new u.$ctor3(".js-submit-button",ss.mkdel(this,function(){var t=new O.$ctor1(".js-cancel-text");ce.prototype.closeModal.call(this),this.$f(ss.unbox(this.$g),t.get_value())}),!0)},closeModal:function(){ss.isNullOrUndefined(this.$g)?this.$e(this.$h):(ce.prototype.closeModal.call(this),this.$f(ss.unbox(this.$g),""))}},ce),ss.initClass(Qt,t,{initialize:function(){if(this.addTemplateToModal("deadline_modal_template",[]),this.$e=new v("#deadline_date",null),ss.isNullOrEmptyString(this.$g))this.$f=new I("#deadline_time",900,null),this.$e.set_value("");else{var t=this.$g.split(String.fromCharCode(32)),e=Enumerable.from(t).last().split(":"),s=100*parseInt(e[0])+parseInt(e[1]);this.$f=new I("#deadline_time",s,null),this.$e.set_value(Enumerable.from(t).first())}this.addButton(VEL.Skynet.Core.Toolbox.Extensions.StringExtensions.toCapitalizeWords(Strings.result_SetButton,ServerModel.languageId),ss.mkdel(this,function(){this.$h(this.$f.get_text()+" "+this.$e.get_value())}),"js-set-button"),this.addButton(VEL.Skynet.Core.Toolbox.Extensions.StringExtensions.toCapitalizeWords(Strings.result_NoDeadline,ServerModel.languageId),ss.mkdel(this,function(){this.$h("")}),"white js-remove-button")}},ce),ss.initClass(Yt,t,{initialize:function(){this.addTemplateToModal("edit_tags_modal_template",[]);var t=$(".js-modal-view-box");this.$g=new De(t,this.$f),this.addButton(Strings.menu_Done,ss.mkdel(this,this.$e),"js-ok-button")},$e:function(){var t="/resourceajax/settags?activityId="+this.$f+"&subjects="+this.$g.getSubjects()+"&agebands="+this.$g.getAgeBands()+"&topics="+this.$g.getTopics();$.ajax(t,{data:null,type:"GET",success:ss.mkdel(this,function(t,e,s){this.closeModal(),ss.staticEquals(this.$h,null)||this.$h()}),error:function(t,e,s){i.displayNetworkErrorMessage()}})}},ce),ss.initClass(re,t,{get_template:function(){return"input_modal_template"},initialize:function(){this.addTemplateToModal(this.get_template(),[this.$k,this.$j,this.$h]),this.$g=new O.$ctor1(".js-input-text"),this.$g.set_maxLength(this.$h),this.button=this.addButton(this.$e,ss.mkdel(this,function(){this.$i(this.$g.get_value())}),"js-ok-button"),this.$g.onEnter(ss.mkdel(this,function(){this.$i(this.$g.get_value())})),this.$g.set_value(this.$f),this.$l&&this.$g.selectAll(),window.setTimeout(ss.mkdel(this.$g,this.$g.focus),1)}},ce),ss.initClass(Xt,t,{get_template:function(){return"email_input_modal_template"},initialize:function(){re.prototype.initialize.call(this),this.$n=new O.$ctor1("#email_input"),this.$n.setupValidation(ss.mkdel(this,this.$m),!1,null,!1),this.button.disable()},$m:function(){wt.isEmail(this.$n.get_value())?(this.$n.validate(1),this.button.enable()):(this.$n.validate(2),this.button.disable())}},re),ss.initClass(Zt,t,{initialize:function(){this.hideHeader(),this.setContent(this.$e)}},ce),ss.initClass(te,t,{initialize:function(){var t="?userId="+this.$h+"&templateId="+this.$g+"&activityId="+this.$e;ss.isValue(this.$f)&&(t+="&printableId="+this.$f);var e=this.setContent("<iframe src='/feedback/experimental/"+t+"' frameBorder='0'></iframe>").find("iframe");e.on("load",ss.mkdel(this,function(t){"about:blank"===e.get(0).contentWindow.location.href.toLowerCase()&&this.closeModal()}))}},ce),te.$ctor1.prototype=te.prototype,ss.initClass(ee,t,{initialize:function(){this.addTemplateToModal("export_modal_template",[]),this.addButton("CSV",ss.mkdel(this,function(){this.$e(1)}),"js-export-csv"),this.addButton("Excel",ss.mkdel(this,function(){this.$e(0)}),"js-export-excel")},$e:function(t){this.closeModal();var e=0===t?"excel":"csv",s="/resultajax/export?homeworkGameId="+this.$f+"&format="+e;$("#file_downloader").remove(),$("body").append("<iframe id='file_downloader' style='display:none;'></iframe>"),$("#file_downloader").attr("src",s)}},ce),ss.initClass(se,t,{initialize:function(){var t;switch(this.$f){case 0:t="/feedback/";break;case 1:t="/feedback/themes?referer="+encodeURIComponent(window.location.href)+"&themeId="+this.$g;break;case 2:t="/feedback/page/"+this.$e+"?referer="+encodeURIComponent(window.location.href);break;case 3:t="/feedback/switchtemplate?referer="+encodeURIComponent(window.location.href);break;case 4:t="/feedback/leaderboard?referer="+encodeURIComponent(window.location.href);break;default:throw new ss.NotImplementedException}var e=this.setContent("<iframe src='"+t+"' frameBorder='0'></iframe>").find("iframe");e.on("load",ss.mkdel(this,function(t){"about:blank"===e.get(0).contentWindow.location.href.toLowerCase()&&this.closeModal()}))}},ce),ss.initEnum(ie,t,{footer:0,themes:1,page:2,switchTemplate:3,leaderboard:4}),ss.initClass(ne,t,{get_color:function(){return this.$1$1},set_color:function(t){this.$1$1=t},build:function(){return mt.buildTemplate("input_color_template",[])},initialize:function(){this.$2=new h(".js-color-circle",ss.mkdel(this,this.$1),null);for(var t=this.$2.getEach(),e=0;e<t.length;e++){var s=t[e];this.$0(s)===this.get_color()&&s.addClass("selected")}},$1:function(t){this.set_color(this.$0(t)),t.addClass("selected");var e=ss.getEnumerator(this.$2.getOthers(t));try{for(;e.moveNext();){e.current().removeClass("selected")}}finally{e.dispose()}},$0:function(t){return ss.cast(ss.Enum.parse(VEL.Skynet.Global.Enums.FolderColor,t.getAttribute("data-color").toLowerCase()),ss.Int32)}}),ss.initClass(oe,t,{initialize:function(){this.addTemplateToModal("folder_input_color_modal_template",[this.prompt,this.placeholder,this.maxLength]);var t=new ne(0);new O.$ctor1(".js-color-grid").append$1(t.build()),t.initialize(),this.input=new O.$ctor1(".js-input-text"),this.input.set_maxLength(this.maxLength),this.addButton(this.$e,ss.mkdel(this,function(){this.$f(this.input.get_value(),ss.isNullOrUndefined(t)?0:t.get_color())}),"js-ok-button"),this.input.onEnter(ss.mkdel(this,function(){this.$f(this.input.get_value(),ss.isNullOrUndefined(t)?0:t.get_color())})),this.input.set_value(this.initialText),this.selectAll&&this.input.selectAll(),window.setTimeout(ss.mkdel(this.input,this.input.focus),1)}},ce),ss.initClass(le,t,{initialize:function(){this.addTemplateToModal("folder_color_modal_template",[]);var t=new ne(this.$f);new O.$ctor1(".js-color-grid").append$1(t.build()),t.initialize(),this.addButton(this.$e,ss.mkdel(this,function(){this.$g(t.get_color())}),"js-ok-button")}},ce),ss.initInterface(ae,t,{get_activityId:null,get_themeId:null,get_activityGuid:null,get_longUrl:null,get_templateId:null,get_title:null,set_title:null,get_isShared:null,set_isShared:null,get_isAuthor:null,get_homeworkType:null,get_hasCopyrightInfringement:null,get_screenshot:null}),ss.initClass(ue,t,{get_folderTreeAjaxUrl:null,isFolderExcluded:null,initialize:function(){this.addTemplateToModal("move_modal_template",[]);var t=new p.$ctor1(".js-folder-tree");$.getJSON(this.get_folderTreeAjaxUrl(),ss.mkdel(this,function(e){this.$e=e,$(".js-tree-loading").hide();for(var s=0;s<e.length;s++){var i=e[s];this.isFolderExcluded(i)||w.create(t,i,this.$f)}this.resize()}))},isFolderInside:function(t,e){for(var s=Enumerable.from(this.$e).firstOrDefault(function(t){return t.FolderId===e},ss.getDefaultValue(VEL.Skynet.Global.Json.FolderInfo));ss.isValue(s);){if(s.FolderId===t)return!0;if(0===s.FolderId)break;s=Enumerable.from(this.$e).firstOrDefault(function(t){return t.FolderId===s.ParentFolderId},ss.getDefaultValue(VEL.Skynet.Global.Json.FolderInfo))}return!1}},ce),ss.initClass(he,t,{initialize:function(){if(this.hideHeader(),this.setContent(this.$f),-1!==this.$f.indexOf("js-ok-button"))new u.$ctor3(".js-ok-button",ss.mkdel(this,this.$e),!0);else this.addButton(Strings.menu_Ok,ss.mkdel(this,this.$e),"focusable js-ok-button"),this.centerModalButtons();ss.staticEquals(this.$h,null)||this.$h()},$e:function(){this.closeModal(),ss.staticEquals(this.$g,null)||this.$g()}},ce),ss.initClass(de,t,{initialize:function(){$(".js-modal-content").on("click",".js-back-step",ss.mkdel(this,function(t){this.$e()}))},$f:function(t,e){var s=$(".js-step-active"),i=$(t.get_$selector());s.removeClass("active js-step-active"),i.addClass("active js-step-active "),e||ss.clear(this.$h),this.$h.push(t)},$g:function(t){var e=$(".js-step-active"),s=$(t.get_$selector());e.removeClass("active slidein back-slideout back-slidein js-step-active").addClass("slideout deactivating"),s.removeClass("slideout back-slideout back-slidein").addClass("active slidein js-step-active"),window.setTimeout(function(){e.removeClass("deactivating")},600),0!==this.$h.length&&ss.referenceEquals(ss.getInstanceType(Enumerable.from(this.$h).last()),ss.getInstanceType(t))&&ss.removeAt(this.$h,this.$h.length-1),this.$h.push(t)},$e:function(){if(this.$h.length<2)this.closeModal();else{ss.removeAt(this.$h,this.$h.length-1);var t=$(".js-step-active"),e=$(Enumerable.from(this.$h).last().get_$selector());t.removeClass("active back-slidein slideout slidein js-step-active").addClass("back-slideout deactivating"),e.removeClass("back-slideout slideout slidein").addClass("active back-slidein js-step-active"),window.setTimeout(function(){t.removeClass("deactivating")},600)}}},ce),ss.initClass($e,t,{setup:function(){1!==this.$l&&(3===this.$l&&(at.cleanUpPolicyUpdateNotificationDismissal(),this.$k&&at.removeAllLocalConsents()),this.$j||(this.$h()?this.open():this.$i()&&at.checkIfConsented(1,ServerModel.policyVersion,ss.mkdel(this,this.open))))},initialize:function(){if(3===this.$l){new u.$ctor1(".js-close-modal-view").remove(),this.addTemplateToModal("policy_update_modal_template",[]);var t=new u.$ctor3(".js-accept-policy",ss.mkdel(this,this.$e),!0),e=new O.$ctor1(".js-check-policy");t.setEnable(!1),e.onChange(function(){t.setEnable(e.get_isChecked())},!1)}else{var s=this.$g(ServerModel.languageCode);ss.isNullOrUndefined(s)&&(s=this.$g(navigator.language||navigator.languages[0]));var i=s;this.addTemplateToModal("policy_update_warning_modal_template",[i]),new u.$ctor3(".js-close-policy",ss.mkdel(this,this.$f),!0)}ServerModel.isEmbed&&new p.$ctor1(".js-policy").addClass("embedded")},$g:function(t){try{return new Date(VEL.Skynet.Global.Server.Switches.getString(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.updatedPolicyEffectiveDate)).toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"})}catch(t){return null}},$e:function(){at.accept(1,ServerModel.policyVersion,null),this.closeModal()},$f:function(){at.dismissPolicyUpdateNotification(),this.closeModal()},onBackgroundOrCloseButtonClick:function(){3!==this.$l&&this.$f()},$h:function(){return 2===this.$l&&!ServerModel.isEmbed&&!at.hasDismissedPolicyUpdateNotification()},$i:function(){return 3===this.$l&&!this.$k}},ce),ss.initClass(ge,t,{initialize:function(){},onBackgroundOrCloseButtonClick:function(){}},ce),ss.initClass(me,t,{initialize:function(){this.addTemplateToModal("pro_required_template",[ServerModel.templatesAvailableForUpdate])}},ce),ss.initClass(fe,t,{initialize:function(){this.addTemplateToModal("send_as_email_modal_template",[]),this.addButton(Strings.menu_Ok,ss.mkdel(this,this.$e),"js-send-button"),this.centerModalButtons(),this.$g=new O.$ctor1(".js-send-email-input"),this.$g.focus()},$e:function(){ce.closeActiveModal();var t=this.$g.getAttribute("data-ajax"),e=ServerModel.emailData;ss.isNullOrUndefined(e)&&(e=ServerModel.dataUrl),t+="?data="+e+"&languageId="+ServerModel.languageId+"&email="+encodeURIComponent(this.$g.get_value()).replace(/%20/g,"+"),$.ajax({url:t,success:ss.mkdel(this,function(t,e,s){this.$f(/^\s*true\s*$/i.test(t.toString()))}),error:function(t,e,s){i.displayNetworkErrorMessage()}})},$f:function(t){t?i.displayMessage(Strings.share_Email_Success,!0,0):i.displayErrorMessage(Strings.share_Email_Error,!0,0)}},ce),ss.initClass(pe,t,{get_templateId:function(){return"results_modal_template"}},Kt),ss.initClass(be,t,{initialize:function(){this.addTemplateToModal("share_activity_steps_template",[]),this.$o=new N.$ctor1(".js-modal-content"),this.startOnPublish?this.$i():this.startOnAssignment?this.$f(new Ee(this),!1):this.startOnShareOrAssignment?this.$f(new Pe(this,this.isAuthor),!1):this.$q?this.$f(new Le(this,this.$j().get_isShared()?1:0,!0),!1):this.$r?this.$f(new Ne(this,!1),!1):ss.isValue(this.$l())&&this.$f(new Be(this,3),!1),2===VEL.Skynet.Global.Server.Switches.getInteger(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.unifiedShareModal)&&(this.$n=window.matchMedia("(max-width: 778px)")),de.prototype.initialize.call(this)},$i:function(){(ServerModel.isAuthor||this.$j().get_isAuthor())&&this.$f(new Ge(this),!1),(this.$j().get_isShared()||this.$j().get_hasCopyrightInfringement())&&this.$f(new Be(this,1),!0)},$j:function(){return this.$3$1},$k:function(t){this.$3$1=t},$l:function(){return this.$3$2},$m:function(t){this.$3$2=t},resize:function(){ce.prototype.resize.call(this),this.$o.CSS$1("height",this.$n.matches?this.$o.get_domObject().css("max-height"):"")},getLocation:function(){return this.$p?3:this.$r||this.$q?4:ss.isValue(this.$l())?2:1}},de),be.$ctor1.prototype=be.prototype,ss.initClass(_e,t,{get_tag:function(){return this.$1},get_title:function(){return this.$2},get_imageUrl:function(){return this.$0}}),ss.initClass(ve,t,{initialize:function(){var t=this.$f.get_item(this.$e).get_tag(),e=this.$f.get_item(this.$e).get_title(),s=this.$f.get_item(this.$e).get_imageUrl();this.addTemplateToModal("subscription_required_feature_template",[t,e,s])}},ce),ss.initClass(ye,t,{initialize:function(){this.addTemplateToModal("video_modal_template",[this.$e])}},ce),ss.initClass(ke,t,{get_exists:function(){return new p.$ctor1("#welcome_back_template").get_exists()},initialize:function(){this.addTemplateToModal("welcome_back_template",[]);new u.$ctor3(".js-redirect-to-login-btn",ss.mkdel(this,function(){window.location.href="/account/login?user="+this.$e}),!0);var t=new u.$ctor1(".js-redirect-to-login-link");t.set_href(t.get_href()+"?email="+this.$e)}},ce),ss.initClass(Se,t,{initialize:function(){this.hideHeader(),this.setContent(this.$g),this.addButton(Strings.menu_Yes,ss.mkdel(this,this.$f),"focusable js-yes-button"),this.addButton(Strings.menu_No,ss.mkdel(this,this.$e),"medium white js-no-button focusable"),this.centerModalButtons(),$(".js-yes-button").focus(),ss.staticEquals(this.$i,null)||this.$i()},$f:function(){this.closeModal(),ss.staticEquals(this.$j,null)||this.$j()},$e:function(){this.closeModal(),ss.staticEquals(this.$h,null)||this.$h()}},ce),ss.initInterface(we,t,{get_$domObject:null,get_$selector:null}),ss.initClass(Ie,t,{},ss.makeGenericType(Ce,[be]),[we]),ss.initClass(Ee,t,{$5:function(){var t=new p.$ctor1(".js-remaining-assignments-wrapper");t.get_exists()&&(0===ServerModel.assignmentCount?t.set_isVisible(!1):new p.$ctor1(".js-assignment-count").set_text(ServerModel.assignmentCount.toString()))},$c:function(){this.$o.offChange(),this.$o.onChange(ss.mkdel(this,this.$a)),this.$i.offChange(),this.$i.onChange(ss.mkdel(this,this.$8),!1),this.$j.offChange(),this.$j.onChange(ss.mkdel(this,function(t){this.$8()}))},$4:function(){ss.isNullOrEmptyString(this.$u.get_value())&&$.get("/resourceajax/suggestresultstitle?activityId="+this.$0.$j().get_activityId(),ss.mkdel(this,function(t){this.$u.set_value(t.toString())}))},$a:function(){this.$s.set_isVisible(this.$f()&&2===this.$0.$j().get_homeworkType())},$6:function(){rt.areFunctionalGoogleClassroomCookiesAllowed()||(this.$p.disable$1(),this.$p.addClass("register-radio-gc-cookie-consent"),this.$r.addClass("register-gc-label-cookie-consent"),this.$q.set_isVisible(!0))},get_$selector:function(){return".js-step-assignment-setup"},$8:function(){this.$h.set_value(1)},$7:function(){var t,e,s,n=0,o=ss.mkdel(this,function(){t:for(;;)switch(n){case 0:if(n=-1,this.$t.hasLoadingGif())return;if((t=new VEL.Skynet.Global.Json.ShareHomeworkJson).Title=this.$u.get_value(),t.EndTimeString=this.$1(),t.Registration=this.$o.get_value(),t.GameOver=this.$2(),0===(e=t).Title.length)return void i.displayErrorMessage(Strings.share_Assignment_MustHaveTitle,!0,0);if(this.$f())return s=this.$d(e),n=1,void s.continueWith(o);this.$e(e),n=-1;break t;case 1:n=-1,s.getAwaitedResult(),n=-1;break t;default:break t}});o()},$2:function(){return(this.$m.get_isChecked()?1:0)|(this.$l.get_isChecked()?4:0)|(this.$k.get_isChecked()?2:0)},$1:function(){return 0===this.$h.get_value()?"":this.$i.get_value()+" "+this.$j.get_text()},$f:function(){return 2===this.$o.get_value()},$e:function(t){this.$b(),st.setAssignment(this.$0.$j(),t).then(ss.mkdel(this,function(t){this.$0.$m(t),this.$0.$g(new Be(this.$0,2)),ss.isValue(s.activityPage)&&s.activityPage.updateAssignments(),VEL.Skynet.Global.Server.Switches.getInteger(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.basicAssignmentLimit)>0&&ServerModel.assignmentCount++}),null).always(ss.mkdel(this,function(){this.$9()}))},$d:function(t){var e,s,n,o,l,a,r,c=0,u=new ss.TaskCompletionSource,h=ss.mkdel(this,function(){var d=!0;try{t:for(;;)switch(c){case 0:case 1:case 2:case 3:0===c&&(c=1);try{e:for(;;)switch(c){case 1:return c=-1,this.$b(),e=jt.createSetAssignmentClient(ServerModel.googleClassroomClientID,ServerModel.googleClassroomApiKey),c=2,e.continueWith(h),void(d=!1);case 2:return c=-1,s=e.getAwaitedResult(),n=s.forceSignIn("set-assignment"),c=3,n.continueWith(h),void(d=!1);case 3:c=-1,n.getAwaitedResult(),this.$0.$g(new Ae(this.$0,s,t,this.$3())),c=-1;break e;default:break e}}catch(t){if(t=ss.Exception.wrap(t),!ss.isInstanceOfType(t,ss.PromiseException))throw t;switch(o=ss.cast(t,ss.PromiseException),l=gt.exceptionToError(o),ss.isValue(l)?l.errorCode:null){case"popup_closed":case"access_denied":this.$0.$g(new Te(this.$0));break;default:a=ss.isValue(l)?l.message:null,r=Strings.myActivities_DefaultError+(ss.isNullOrEmptyString(a)?"":": "+a),i.displayErrorMessage(r,!0,0)}}finally{d&&this.$9()}c=-1;break t;default:break t}u.setResult(null)}catch(t){u.setException(ss.Exception.wrap(t))}});return h(),u.task},$b:function(){this.$t.addLoadingGif(),this.$g.disable()},$9:function(){this.$t.resetLoadingGif(),this.$g.enable()},$3:function(){var t={};return 2===this.$0.$j().get_homeworkType()&&ss.Int32.tryParse(this.$n.get_value(),t)?t.$:null}},Ie,[we]),ss.initClass(je,t,{$5:function(){return this.$2$1},$6:function(t){this.$2$1=t},$4:function(){return this.get_domObject().find("label").text()},$3:function(){return parseInt(this.getAttribute("data-id"))},$1:function(){return this.$2$2},$2:function(t){this.$2$2=t}},p),ss.initClass(Ve,t,{get_$selector:function(){return".js-step-email"},$5:function(){this.$4(),this.$7.focus()},$1:function(t){return i.hideMessage(),188!==t&&32!==t&&13!==t||(this.$4(),this.$7.focus(),!1)},$6:function(){if(this.$4(),0===this.$8.get_domObject().find(".js-recognised-email-address-blob").length)return i.displayErrorMessage(Strings.share_Email_MustAddEmail,!0,0),this.$9.resetLoadingGif(),void this.$7.focus();this.$8.submitByAjax(ss.mkdel(this,this.$3),ss.mkdel(this,this.$2))},$4:function(){var t=this.$7.get_value();if(!ss.isNullOrEmptyString(t)){var e=this.$7.get_domObject().parents(".js-email-link-form").first().find(".js-recognised-addresses")[0];if(wt.isEmail(t)){i.hideMessage();var s=mt.buildTemplate("recognised_email_address_blob_template",[t]);e.appendChild(s.get(0)),this.$7.set_value(""),new u.$ctor4(s,".js-address-blob-remove",function(){s.remove()})}else i.displayErrorMessage(Strings.share_Email_NotValid,!0,0)}},$3:function(t){this.$0.$e(),i.displayMessage(Strings.share_Email_Success,!0,0),i.hideProgress()},$2:function(){i.displayErrorMessage(Strings.share_Email_Error,!0,0),this.$9.resetLoadingGif(),i.hideProgress()}},Ie,[we]),ss.initClass(Le,t,{$2:function(t){if(ss.isNullOrUndefined(s.app))et.load(ss.mkdel(this,function(){this.$2(t)}));else{var e=s.app,i=-1,n=null;if(ss.isValue(s.myActivitiesPage)?(i=this.$0.$j().get_activityId(),n=this.$0.$j().get_activityGuid()):(ss.isValue(s.myResultsPage)||ss.isValue(s.resultPage))&&(i=this.$0.$l().ActivityId,n=this.$0.$l().ActivityGuid),-1===i||!ss.isValue(n)||!ss.isNullOrUndefined(e.get_document())&&ss.referenceEquals(e.get_document().get_guid(),n))if(ss.isNullOrUndefined(e.get_document())||ss.isNullOrUndefined(e.get_document().get_selectedGame()))window.setTimeout(ss.mkdel(this,function(){this.$2(t)}),200);else{var o=e.get_document().get_template().get_id(),l=Enumerable.from(VEL.Skynet.Core.View.Themes.ThemeHelper.getAvailableThemeIds(o)).select(VEL.Skynet.Core.View.Themes.ThemeHelper.getTheme),a=l.getEnumerator();try{for(;a.moveNext();){var r=a.current();this.$b.get_domObject().append('<option value="'+r.id+'">'+r.get_title()+"</option>")}}finally{a.dispose()}var c=ss.isValue(this.$0.$l())?this.$0.$l().ThemeId:this.$0.$j().get_themeId();l.any(function(t){return t.id===c})||(c=l.first().id),e.setThemeId(c,!1),this.$b.set_value(e.getThemeSelection().selected.id),this.$8.set_value(ServerModel.languageId),t()}else e.open(n,!1,i,ss.mkdel(this,function(e){this.$2(t)}))}},$4:function(t){t?2===this.$0.$j().get_homeworkType()&&(ServerHelper.get_isGuest()?new p.$ctor1(".js-guest-cta").set_isVisible(!0):(new p.$ctor1(".js-assignment-cta").set_isVisible(!0),new u.$ctor3(".js-next-set-assignment",ss.mkdel(this,function(){this.$0.$g(new Ee(this.$0))}),!0))):new p.$ctor1(".js-back-cta").set_isVisible(!0)},$3:function(t){var e,i=s.app;2===this.$a||3===this.$a?e="/embedajax/gethomeworktemplates?homeworkGameId="+this.$0.$l().HomeworkGameId:(e="/embedajax/getactivitytemplates?activityId="+this.$0.$j().get_activityId()+"&languageId="+this.$8.get_value()+"&themeId="+this.$b.get_value(),ss.isValue(i.get_document())&&(e=e+"&templateId="+i.get_document().get_template().get_id()+"&fontStackId="+i.getFontStackId())),$.get(e,null,ss.mkdel(this,function(e){this.$7.set_html(ss.cast(e,String)),mt.clearCache(),this.$5(),ss.staticEquals(t,null)||t()}))},$5:function(){var t,e,i=s.app;switch(this.$c.get_value()){case 2:e="<div>"+(t=mt.toString("embed_icon_template",[]).trim())+"</div>",this.$b.set_value(i.getThemeSelection().selected.id),this.$b.setAttribute("disabled","disabled");break;case 1:e="<div>"+(t=mt.toString("embed_image_template",[]).trim())+"</div>",this.$b.set_value(i.getThemeSelection().selected.id),this.$b.setAttribute("disabled","disabled");break;case 0:t=mt.toString("embed_iframe_template",[]).trim(),e=ss.replaceAllString(t,"?","?footer=false&"),this.$b.removeAttribute("disabled");break;default:throw new ss.NotImplementedException}this.$6.set_html(t),this.$9.set_html(e)},$1:function(){this.$6.copy()},get_$selector:function(){return".js-step-embed"}},Ie,[we]),ss.initEnum(Oe,t,{$0:0,$2:1,$1:2}),ss.initClass(Ge,t,{$1:function(){ce.closeActiveModal();var t="/resourceajax/makeprivate?activityId="+this.$0.$j().get_activityId()+"&pageId="+ServerModel.pageId;$.ajax(t,{data:null,type:"GET",success:ss.mkdel(this,function(t,e,s){this.$0.$j().set_isShared(!1),i.displayMessage(Strings.share_NowPrivate,!0,0)}),error:function(t,e,s){i.displayNetworkErrorMessage()}})},get_$selector:function(){return".js-step-resource-setup"},$2:function(){if(!this.$4)if(X.isTitleShareable(this.$6.get_value())){this.$4=!0,this.$5.addLoadingGif();var t="/resourceajax/publish?activityId="+this.$0.$j().get_activityId()+"&subjects="+this.$3.getSubjects()+"&agebands="+this.$3.getAgeBands()+"&topics="+this.$3.getTopics()+"&title="+encodeURIComponent(this.$6.get_value())+"&pageId="+ServerModel.pageId;$.ajax(t,{data:null,type:"GET",success:ss.mkdel(this,function(t,e,i){this.$4=!1,this.$0.$j().set_title(this.$6.get_value()),ss.isValue(s.activityPage)&&s.activityPage.updateTags(),this.$0.$j().set_isShared(!0),this.$0.$g(new Be(this.$0,0)),this.$5.resetLoadingGif()}),error:ss.mkdel(this,function(t,e,s){i.displayNetworkErrorMessage(),this.$4=!1,this.$5.resetLoadingGif()})})}else i.displayErrorMessage(Strings.enterContent_Generic_TitleError,!0,0)}},Ie,[we]),ss.initClass(Me,t,{get_$selector:function(){return".js-current-assignments"},$1:function(){new u.$ctor4(this.get_$domObject(),".js-back-step",ss.mkdel(this,function(){this.$0.$e()})),new u.$ctor4(this.get_$domObject(),".js-create-new",ss.mkdel(this,function(){this.$0.$g(new Ee(this.$0))}))}},Ie,[we]),ss.initClass(xe,t,{get_$selector:function(){return".js-step-gc-assignment-done"},$3:function(){this.$6.offClick(),this.$6.onClick(ss.mkdel(this,this.$1),!1,!0),this.$7.offClick(),this.$7.onClick(ss.mkdel(this,this.$2),!1,!0)},$1:function(){ce.openNewTab(this.$5.alternateLink)},$2:function(){window.location.href="/result/a/"+this.$4.HomeworkGameId}},Ie,[we]),ss.initClass(Ae,t,{$b:function(){this.$i.offChange(),this.$i.onChange(ss.mkdel(this,this.$8)),this.$d.offChange(),this.$d.onChange(ss.mkdel(this,this.$6)),this.$m.offClick(),this.$m.onClick(ss.mkdel(this,this.$9),!1,!0)},get_$selector:function(){return".js-step-gc-assignment"},$2:function(){var t,e,s,i,n,o,l,a,r=0,c=ss.mkdel(this,function(){t:for(;;)switch(r){case 0:r=-1,t="Error fetching Google Classroom courses",r=1;continue t;case 1:case 2:case 3:1===r&&(r=2);try{e:for(;;)switch(r){case 2:return r=-1,this.$i.empty(),e=this.$j.listMyTeacherCourses(),r=3,void e.continueWith(c);case 3:for(r=-1,s=e.getAwaitedResult(),i=Enumerable.from(s).firstOrDefault(null,ss.getDefaultValue(VEL.Skynet.Global.Json.GoogleClassroom.Course)),n=0;n<s.length;n++)o=s[n],this.$i.addOption(o.name,o.id,ss.referenceEquals(o,i));this.$8(ss.isValue(i)?i.id:null),r=-1;break e;default:break e}}catch(e){e=ss.Exception.wrap(e),ss.isInstanceOfType(e,ss.PromiseException)?(l=ss.cast(e,ss.PromiseException),Ae.$2.reportGoogleClassroomError(Strings.myActivities_DefaultError,t,l)):(a=e,Ae.$2.reportError$1(Strings.myActivities_DefaultError,t,a))}r=-1;break t;default:break t}});c()},$8:function(t){var e,s=0,i=ss.mkdel(this,function(){t:for(;;)switch(s){case 0:if(s=-1,ss.isNullOrEmptyString(t)){this.$1(),s=-1;break t}return e=this.$c(t),s=1,void e.continueWith(i);case 1:s=-1,e.getAwaitedResult(),s=-1;break t;default:break t}});i()},$c:function(t){var e,s,i,n,o=0,l=new ss.TaskCompletionSource,a=ss.mkdel(this,function(){try{t:for(;;)switch(o){case 0:o=-1,e="Error fetching Google Classroom students",o=1;continue t;case 1:case 2:case 3:1===o&&(o=2);try{e:for(;;)switch(o){case 2:return o=-1,this.$1(),s=this.$j.listCourseStudents(t),this.$l=s,o=3,void s.continueWith(a);case 3:if(o=-1,s.getAwaitedResult(),!ss.referenceEquals(s,this.$l))return void l.setResult(null);this.$3(s.getResult()),this.$6(),o=-1;break e;default:break e}}catch(t){t=ss.Exception.wrap(t),ss.isInstanceOfType(t,ss.PromiseException)?(i=ss.cast(t,ss.PromiseException),Ae.$2.reportGoogleClassroomError(Strings.myActivities_DefaultError,e,i)):(n=t,Ae.$2.reportError$1(Strings.myActivities_DefaultError,e,n))}o=-1;break t;default:break t}l.setResult(null)}catch(t){l.setException(ss.Exception.wrap(t))}});return a(),l.task},$1:function(){this.$e.empty(),this.$e.set_isVisible(!1),this.$f.set_isVisible(!1)},$3:function(t){ss.isValue(t)&&0!==t.length?(this.$e.set_html(ss.arrayFromEnumerable(Enumerable.from(t).select(function(t){return ss.formatString("<li><input type='checkbox' id='{0}' class='js-gc-assign-to-student' value='{1}'/> <label for='{0}'>{2}</label></li>",ss.htmlEncode("gc_assign_to_student_"+t.userId),ss.htmlEncode(t.userId),ss.htmlEncode(t.profile.name.fullName))})).join("")),this.$e.set_isVisible(!0),this.$f.set_isVisible(!1)):(this.$e.empty(),this.$e.set_isVisible(!1),this.$f.set_isVisible(!0))},$6:function(){var t=1===this.$d.get_value();this.$e.get_domObject().find("input").each(function(e,s){new g(s,null).setEnable(t)}),this.$e.get_domObject().find("label").each(function(e,s){$(s).toggleClass("unavailable",!t)})},$9:function(){var t,e,s,n,o,l,a,r,c,u,h,d=0,$=ss.mkdel(this,function(){var g=!0;t:for(;;)switch(d){case 0:if(d=-1,this.$m.hasLoadingGif())return;if(t=this.$4(),ss.isNullOrEmptyString(t.courseId))return void i.displayErrorMessage(Strings.share_GoogleClassroom_MustHaveClass,!0,5e3);if("INDIVIDUAL_STUDENTS"===t.assigneeMode&&(ss.isNullOrUndefined(t.individualStudentsOptions)||0===t.individualStudentsOptions.studentIds.length))return void i.displayErrorMessage(Strings.share_GoogleClassroom_MustHaveStudents,!0,5e3);e="Error setting Google Classroom assignment",d=1;continue t;case 1:case 2:case 3:case 4:case 5:case 6:1===d&&(d=2);try{e:for(;;)switch(d){case 2:return d=-1,this.$a(),s=st.setAssignmentAsync(this.$0.$j(),this.$g),d=3,s.continueWith($),void(g=!1);case 3:return d=-1,n=s.getAwaitedResult(),o=Ae.$0(n.EndTime),t.materials=[VEL.Skynet.Global.Json.GoogleClassroom.Material.createLinkMaterial(n.Url)],t.dueDate=VEL.Skynet.Global.Json.GoogleClassroom.Date.create$1(o),t.dueTime=VEL.Skynet.Global.Json.GoogleClassroom.TimeOfDay.create$1(o),l=this.$j.createCourseWork(t.courseId,t),d=4,l.continueWith($),void(g=!1);case 4:return d=-1,a=l.getAwaitedResult(),r=st.setGoogleClassroomAssignmentAsync(n.HomeworkGameId,a.courseId,a.id),d=5,r.continueWith($),void(g=!1);case 5:return d=-1,r.getAwaitedResult(),c=this.$j.publishCourseWork(a.courseId,a.id),d=6,c.continueWith($),void(g=!1);case 6:d=-1,a=c.getAwaitedResult(),VEL.Skynet.Global.Server.Switches.getInteger(VEL.Skynet.Global.Server.Switches.static$1,VEL.Skynet.Global.Server.SwitchKeys.basicAssignmentLimit)>0&&ServerModel.assignmentCount++,this.$0.$g(new xe(this.$0,n,a)),d=-1;break e;default:break e}}catch(t){t=ss.Exception.wrap(t),ss.isInstanceOfType(t,ss.PromiseException)?(u=ss.cast(t,ss.PromiseException),Ae.$2.reportGoogleClassroomError(Strings.myActivities_DefaultError,e,u)):(h=t,Ae.$2.reportError$1(Strings.myActivities_DefaultError,e,h))}finally{g&&this.$7()}d=-1;break t;default:break t}});$()},$a:function(){this.$m.addLoadingGif(),this.$h.disable()},$7:function(){this.$m.resetLoadingGif(),this.$h.enable()},$4:function(){var t=new VEL.Skynet.Global.Json.GoogleClassroom.CourseWork;t.courseId=this.$i.get_value(),t.title=this.$g.Title,t.state="DRAFT",t.maxPoints=this.$k,t.workType="ASSIGNMENT";var e=t;switch(this.$d.get_value()){case 0:e.assigneeMode="ALL_STUDENTS";break;case 1:e.assigneeMode="INDIVIDUAL_STUDENTS";var s=new VEL.Skynet.Global.Json.GoogleClassroom.IndividualStudentsOptions;s.studentIds=this.$5(),e.individualStudentsOptions=s}return e},$5:function(){var t=this.$e.get_domObject().find("input:checked"),e=new Array(t.length);return t.each(function(t,s){e[t]=$(s).val()}),e}},Ie,[we]),ss.initClass(Te,t,{get_$selector:function(){return".js-step-gc-assignment-refuse"}},Ie,[we]),ss.initClass(Ne,t,{get_$selector:function(){return".js-step-qr"},$1:function(t){var e="/resourceajax/qr?shareLocation="+t.getLocation().toString();return ss.isValue(t.$l())?e+"&homeworkGameId="+t.$l().HomeworkGameId:e+"&activityId="+t.$j().get_activityId()},$2:function(t){return ss.isValue(t.$l())?t.$l().Url:X.getShortUrl(t.$j().get_activityId(),!1)}},Ie,[we]),ss.initClass(Pe,t,{$1:function(){this.$5=this.$5||new Ee(this.$0),this.$0.$g(this.$5)},$2:function(){this.$3?(this.$6=this.$6||new Ge(this.$0),this.$0.$g(this.$6)):(this.$4=this.$4||new Be(this.$0,1),this.$0.$g(this.$4))},get_$selector:function(){return".js-step-share-or-homework"}},Ie,[we]),ss.initClass(Be,t,{$7:function(){var t=new u.$ctor4(this.get_$domObject(),".js-share-modal-native",ss.mkdel(this,this.$c));return t.find(p).call(t,".js-share-pinterest").set_isVisible(0===ServerModel.regionalSocialMedia),t},get_$selector:function(){switch(this.$g){case 0:return".js-step-resource-done";case 1:return".js-step-public-resource-done";case 2:return".js-step-assignment-done";case 3:return".js-step-past-assignment-done"}throw new ss.NotImplementedException},$2:function(){return 2===this.$g||3===this.$g?this.$0.$l().ActivityId:this.$0.$j().get_activityId()},$4:function(){return 2===this.$g||3===this.$g?0:this.$0.$j().get_templateId()},$3:function(){return 2===this.$g||3===this.$g?this.$0.$l().HomeworkGameId:0},$8:function(){this.$1(237),this.$0.$g(new Ve(this.$0))},$9:function(){this.$1(223),this.$0.$g(new Le(this.$0,this.$g,!1))},$e:function(){this.$0.$g(new Ne(this.$0,!0))},$a:function(){this.$1(234),ce.openPopup(kt.createFacebookShareLink(this.$6(),this.$5()))},$d:function(){this.$1(243),ce.openPopup(kt.createPinterestShareLink(this.$6(),this.$5()))},$b:function(){this.$1(236);var t=this.$6(),e=this.$5();ce.openNewTab(ss.formatString("https://classroom.google.com/share?url={0}&title={1}",encodeURIComponent(t),encodeURIComponent(e)))},$c:function(){var t=this.$6(),e=this.$5();pt.share(t,e,e)},$6:function(){return 2===this.$g||3===this.$g?this.$0.$l().Url:this.$0.$j().get_longUrl()},$5:function(){return 2===this.$g||3===this.$g?this.$0.$l().Title:this.$0.$j().get_title()},$1:function(t){dt.addShareEvent$1(t,this.$0.getLocation(),this.$4(),this.$2(),this.$3())}},Ie,[we]),ss.initClass(De,t,{getAgeBands:function(){return this.$4(this.$m)},getSubjects:function(){return this.$4(this.$z)},getTopics:function(){return this.$4(this.$A)},$5:function(){$.get("/resourceajax/formtags?activityId="+this.$g,ss.mkdel(this,function(t){this.$r.get_isEmpty()||this.$f(),this.$r.set_html(t.toString()),this.$1(),this.$e()}))},$f:function(){this.$x=this.getAgeBands(),this.$y=this.getSubjects(),this.$w=this.getTopics()},$e:function(){if(ss.isValue(this.$w))for(var t=VEL.Skynet.Global.Extensions.StringExtensions.toArrayOfIntegers(this.$w),e=0;e<this.$A.length;e++){var s=this.$A[e];s.$1().set_isChecked(ss.contains(t,s.$3()))}if(ss.isValue(this.$x))for(var i=VEL.Skynet.Global.Extensions.StringExtensions.toArrayOfIntegers(this.$x),n=0;n<this.$m.length;n++){var o=this.$m[n];o.$1().set_isChecked(ss.contains(i,o.$3()))}if(ss.isValue(this.$y))for(var l=VEL.Skynet.Global.Extensions.StringExtensions.toArrayOfIntegers(this.$y),a=0;a<this.$z.length;a++){var r=this.$z[a];r.$1().set_isChecked(ss.contains(l,r.$3()))}},$8:function(t){var e=!1;t.$1().get_isChecked()&&(Enumerable.from(this.$m).count(function(t){return t.$1().get_isChecked()})>8&&"ageband"===t.$5()&&(t.$1().set_isChecked(!1),e=!0),Enumerable.from(this.$z).count(function(t){return t.$1().get_isChecked()})>3&&"subject"===t.$5()&&(t.$1().set_isChecked(!1),e=!0),Enumerable.from(this.$A).count(function(t){return t.$1().get_isChecked()})>3&&"topic"===t.$5()&&t.$1().set_isChecked(!1)),"topic"===t.$5()||e||$.get("/resourceajax/topictags?activityId="+this.$g+"&subjects="+this.getSubjects()+"&agebands="+this.getAgeBands(),ss.mkdel(this,function(t){this.$f(),this.$s.set_html(t.toString()),this.$2(),this.$e()}))},$1:function(){this.$s=new N.$ctor1(".js-insert-topic-tags"),ss.clear(this.$m);for(var t=this.get_domObject().find(".js-ageband-tag").get(),e=0;e<t.length;e++){var s=t[e];this.$m.push(new je("ageband",s,ss.mkdel(this,this.$b),ss.mkdel(this,this.$8)))}new u.$ctor3(".js-add-ageband",ss.mkdel(this,function(){this.$7("ageband")}),!0);ss.clear(this.$z);for(var i=this.get_domObject().find(".js-subject-tag").get(),n=0;n<i.length;n++){var o=i[n];this.$z.push(new je("subject",o,ss.mkdel(this,this.$b),ss.mkdel(this,this.$8)))}new u.$ctor3(".js-add-subject",ss.mkdel(this,function(){this.$7("subject")}),!0);this.$2(),this.$t=!1},$2:function(){ss.clear(this.$A);for(var t=this.get_domObject().find(".js-topic-tag").get(),e=0;e<t.length;e++){var s=t[e];this.$A.push(new je("topic",s,ss.mkdel(this,this.$b),ss.mkdel(this,this.$8)))}new u.$ctor3(".js-add-topic",ss.mkdel(this,function(){this.$7("topic")}),!0)},$b:function(t){this.$c(),this.$q=t,this.$p.set_isVisible(!0),this.$n.set_value(t.$4()),this.$n.focus()},$9:function(){this.$c(),this.$v.set_isVisible(!0),this.$p.set_isVisible(!1),this.$l.set_isVisible(!1)},$c:function(){this.$p.set_isVisible(!1),this.$l.set_isVisible(!1),this.$v.set_isVisible(!1)},$6:function(){var t="/resourceajax/add"+this.$k+"?name="+encodeURIComponent(this.$h.get_value()).replace(/%20/g,"+");this.$3(t,this.$i)},$a:function(){var t=this.$n.get_value();if(!ss.referenceEquals(t,this.$q.$4())){var e="/resourceajax/edit"+this.$q.$5()+"?name="+t+"&"+this.$q.$5()+"id="+this.$q.$3();this.$3(e,this.$o)}},$d:function(){var t="/resourceajax/remove"+this.$q.$5()+"?"+this.$q.$5()+"id="+this.$q.$3();this.$3(t,this.$u)},$7:function(t){switch(this.$c(),t){case"ageband":this.$j.set_text(Strings.resource_Tags_AddAgeBand);break;case"subject":this.$j.set_text(Strings.resource_Tags_AddSubject);break;case"topic":this.$j.set_text(Strings.resource_Tags_AddTopic)}this.$h.set_value(""),this.$l.set_isVisible(!0),this.$h.focus(),this.$k=t,this.$i.onClick(ss.mkdel(this,this.$6),!1,!0),this.$h.onEnter(ss.mkdel(this,this.$6))},$3:function(t,e){this.$t||(this.$t=!0,e.addLoadingGif(),$.ajax(t,{data:null,type:"GET",success:ss.mkdel(this,function(t,s,n){var o=ss.cast(t,VEL.Skynet.Global.Json.TagResultJson);o.Success?(this.$c(),this.$5()):i.displayErrorMessage(o.Error,!0,0),e.resetLoadingGif(),this.$t=!1}),error:ss.mkdel(this,function(t,s,n){i.displayNetworkErrorMessage(),e.resetLoadingGif(),this.$t=!1})}))},$4:function(t){var e="",s=ss.getEnumerator(t);try{for(;s.moveNext();){var i=s.current();i.$1().get_isChecked()&&(""!==e&&(e+=","),e+=i.$3())}}finally{s.dispose()}return e}},p),ss.initInterface(He,t,{initialize:null,onDocumentOpen:null,onContentChanged:null,populateOptionsSection:null,populateThemesList:null,populateTemplates:null,populateLeaderboard:null,updateTags:null,updateLeaderboard:null,updateAssignments:null,get_convertToTemplateId:null,onAssetLoaded:null}),ss.initInterface(Ue,t,{updateErrors:null}),ss.initInterface(Re,t,{initialize:null}),ss.initInterface(Fe,t,{onOpenFolder:null,onOpenRecycleBin:null,onSearch:null,onBack:null,getItemsDragContainer:null}),ss.initInterface(qe,t,{initialize:null}),ss.initInterface(ze,t,{initialize:null,restart:null,onTurnedInGoogleClassroomStudentSubmission:null,onAssetLoaded:null}),ss.initInterface(We,t,{initialize:null}),ss.initEnum(Je,t,{folder:0,search:1,recycle:2,teacherFolder:3}),ss.initClass(Ke,t,{$2:function(){this.$5.fadeOut$1(),this.set_isVisible(!1)},open:function(t,e,s,i,n,o,l){tt.get_inProgress()||(this.$8.onClick(t,!1,!0),this.$6.onClick(ss.mkdel(this,function(){e(),this.$2()}),!1,!0),this.$9.onClick(ss.mkdel(this,function(){s(),this.$2()}),!1,!0),this.$7.onClick(ss.mkdel(this,function(){i(),this.$2()}),!1,!0),this.$5.fadeIn$1(),this.set_isVisible(!0),this.CSS("left",this.$3(n,l)),this.CSS("top",this.$4(o)))},$3:function(t,e){return e?Math.max(t-this.get_outerWidth(),40):Math.min(t,$(window).width()-this.get_outerWidth()-40)},$4:function(t){return Math.min(t,$(window).height()-this.get_outerHeight()-8)+$(window).scrollTop()}},N),e.$1=!1,s.app=null,s.activityPage=null,s.myActivitiesPage=null,s.resultPage=null,s.myResultsPage=null,s.playPage=null,s.editorPage=null,mt.$0=new(ss.makeGenericType(ss.Dictionary$2,[String,mt])),ft.experimentalNewAssignmentNotificationKey="__newassignments",ft.dismissedBannersKey="DismissedBanners",ft.bannersToShowKey="BannersToShow",ft.policyUpdateDismissedKey="policy_update_dismissed",ft.unsubmittedUserConsentsKey="unsubmitted_user_consents",ft.userConsentsKey="user_consents",c.$0=null,ut.$1=null,ut.$0=null,rt.$5=0,rt.$6=364,rt.$7="/privacy",rt.$8="/terms",rt.$3="/cookie-policy",rt.$2="/contact",rt.$4="currentLanguage",rt.cookieConsentIsEnabled=!1,it.guidTag="autosave.guid",it.templateIdTag="autosave.templateid",it.timeTag="autosave.time",it.titleTag="autosave.title",it.userTag="autosave.user",it.docTag="autosave.doc",ce.$0=null,$(window).on("resize",function(t){ss.isValue(ce.$0)&&ce.$0.resize()}),$(document).keyup(function(t){27===t.keyCode&&ce.closeActiveModal()}),i.$V=31536e3,i.$E=null,i.$M="?ref=new",i.$N=15,i.$O=0,i.$P=null,i.$J=null,i.$I=null,i.$A=null,i.$D=null,i.$L=null,i.$H=null,i.$K=null,i.$R=null,i.$F=null,i.$S=null,i.$T=null,i.$G=null,i.$Q=null,i.$C=null,i.$B=null,i.$U=0,i.isErrorPage=!1,i.jsErrors="",i.displayError="",tt.$1$1=!1,a.$2=15e3,a.$0=60,a.$1=40,L.$0=200,lt.$0=15e4,wt.$1="@skynet.net",wt.$0=new RegExp("^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,63}(?:\\.[a-z]{2})?)$","i"),wt.$2=new RegExp("^([\\w-+]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,63}(?:\\.[a-z]{2})?)$","i"),X.$0=!1,$t.$0=5e3,De.$0="ageband",De.$1="subject",De.$2="topic",Z.existingContentPrompt="Existing content to take context from and avoid repeating (Does not count toward the total number of items. Do not include the existing content in the response):\r\n",Z.groupIntersectionPrompt="Ensure there is no intersection between the new groups and the existing groups.",Z.aiGenerationFeedbackSelector=".js-ai-feedback",Z.inProgressClass="js-in-progress in-progress",_t.$0=5e3,_t.$1=null,Dt.acceptTypeAll="all",Dt.acceptTypeCustom="custom",Dt.acceptTypeNecessary="necessary",Dt.modalNameConsent="consentModal"}();
