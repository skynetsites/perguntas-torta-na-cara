<!DOCTYPE html>
<html lang="pt" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1, minimal-ui">
    <title>Perguntas para torta na cara infantil com alternativas</title>

    <!-- Estilos principais -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link rel="stylesheet" href="static/content/css/embed/embed.css">
    <link rel="stylesheet" href="static/content/css/theme_fonts.css">
    <link rel="stylesheet" href="static/content/css/global/global.css">
    <link rel="stylesheet" href="static/content/css/global/modal_views.css">
    <link rel="stylesheet" href="static/content/css/global/buttons.css">
    <link rel="stylesheet" href="static/content/css/vendors/fontawesome/regular.css">

  <script>
(function () {
  if (!location.hostname.includes("github.io")) return;

  console.log("ðŸš« Bloqueando POST / Beacon no GitHub Pages");

  /* ===== sendBeacon ===== */
  if (navigator.sendBeacon) {
    navigator.sendBeacon = function () {
      console.log("sendBeacon bloqueado");
      return true; // finge sucesso
    };
  }

  /* ===== fetch ===== */
  if (window.fetch) {
    const originalFetch = window.fetch;
    window.fetch = function (input, init) {
      if (init && init.method && init.method.toUpperCase() === "POST") {
        console.log("fetch POST bloqueado:", input);
        return Promise.resolve(new Response(null, { status: 204 }));
      }
      return originalFetch.apply(this, arguments);
    };
  }

  /* ===== XMLHttpRequest ===== */
  const originalOpen = XMLHttpRequest.prototype.open;
  const originalSend = XMLHttpRequest.prototype.send;

  XMLHttpRequest.prototype.open = function (method, url) {
    this.__isPost = method && method.toUpperCase() === "POST";
    this.__url = url;
    return originalOpen.apply(this, arguments);
  };

  XMLHttpRequest.prototype.send = function () {
    if (this.__isPost) {
      console.log("XHR POST bloqueado:", this.__url);
      this.readyState = 4;
      this.status = 204;
      this.onreadystatechange && this.onreadystatechange();
      return;
    }
    return originalSend.apply(this, arguments);
  };
})();
</script>


    <!-- ConfiguraÃ§Ã£o inicial do servidor -->
    <script>
        window.ServerModel = {
            userId: 0,
            isPro: false,
            isBasic: false,
            languageId: 1046,
            localeId: 1046,
            isTest: true,
            policyVersion: 1,
            policyTestOnly: false,
            pageId: 21,
            activityId: 1,
            activityGuid: "10b50988ab00456fb0d6051468b1fa26",
            activityTitle: "Perguntas para torta na cara infantil",
            templateId: 6,
            themeId: 47,
            fontStackId: 0,
            isEmbed: false
        };
    </script>
</head>

<body class="embedded">
    <div class="js-activity-wrapper activity-wrapper has-banner">
        <div class="canvas-container">
            <canvas class="render-canvas js-render-canvas"></canvas>
        </div>
        <div class="play-preload js-play-preload">
            <p class="js-play-preload-loader hidden">0%</p>
            <p class="play-log-message js-play-log-message"></p>
        </div>
    </div>

    <!-- Carregamento dinÃ¢mico de scripts e inicializaÃ§Ã£o do jogo -->
    <script>
        const scripts = [
            "https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js",
            "static/scripts/resources/strings_pt2.js",
            "static/scripts/saltarelle/mscorlib.js",
            "static/scripts/saltarelle/linq.js",
            "static/scripts/global/cdnlinks.js",
            "static/scripts/saltarelle/global.js",
            "static/scripts/saltarelle/global-web.js",
            "scripts/global/switches_database.js",
            "static/scripts/saltarelle/core.js",
            "static/scripts/saltarelle/view.js",
            "static/scripts/saltarelle/application-client.js"
        ];

        function loadScripts(urls, callback) {
            let index = 0;
            function next() {
                if (index >= urls.length) return callback();
                const script = document.createElement("script");
                script.src = urls[index++];
                script.crossOrigin = "anonymous";
                script.onload = next;
                document.head.appendChild(script);
            }
            next();
        }

        // Carrega todos os scripts em sequÃªncia e inicia o jogo
        loadScripts(scripts, () => {
            $(document).ready(() => {
                new VEL.Skynet.Application.Client.ClientApp();
                
                VEL.Skynet.Global.Shell.initialize();
                VEL.Skynet.Global.Modules.app.setFontStackId(ServerModel.fontStackId, false);
                VEL.Skynet.Global.Modules.app.setGameOverOptionsFlag(2, true);
                VEL.Skynet.Global.Modules.app.startGame(
                    4,
                    26530540,
                    ServerModel.activityGuid,
                    65,
                    5
                );
            });
        });
    </script>
</body>

</html>




